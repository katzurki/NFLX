
<head>
	<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-168419916-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-168419916-1');
</script>

        <title>Bookmarklets for NFLX: AutoQC.js</title>
	<meta property="fb:app_id"          content="1234567890" /> 
<meta property="og:type"            content="article" /> 
<meta property="og:url"             content="https://katzurki.github.io/NFLX/AutoQC.html" /> 
<meta property="og:title"           content="AutoQC for Current Task" /> 
<meta property="og:description"    content="https://katzurki.github.io/NFLX/README.md" />
<style>
#page-wrap {
     width: 900px;
     margin: 0 auto;
}


a.btn {
	background-color: #e3e3e3;
	border-color: rgba(0,0,0,0.5);
	display: inline-block;
	color: #000;
	text-transform: uppercase;
	letter-spacing: 2px;
	font-size: 12px;
	padding: 10px 30px;
	border-radius: 5px;
	-moz-border-radius: 5px;
	-webkit-border-radius: 5px;
	border: 2px solid rgba(0,0,0,0.3);
	border-bottom-width: 3px;
}
	a.btn:active {
		background-color: #CCC;
		border-color: rgba(0,0,0,0.9);
	}

/* blue button */


div.text,
#content,
li[lang=ru] {
  font: Verdana, Tahoma;
  background: url('hatch.png') /* wtf? */;  color: #CACACA !important;
  width: 40%;
}
 
pre {
 white-space: pre-wrap;       /* css-3 */
 white-space: -moz-pre-wrap;  /* Mozilla, since 1999 */
 white-space: -pre-wrap;      /* Opera 4-6 */
 white-space: -o-pre-wrap;    /* Opera 7 */
        /* Internet Explorer 5.5+ */
}

	
@media screen and (-webkit-min-device-pixel-ratio: 0) {
  body:first-of-type pre::after {
    content: 'highlight: ' attr(class);
  }
}


@font-face {
  font-family: Chunkfive; src: url('Chunkfive.otf');
}

div.text,
#content,
li[lang=ru] {
  font: Tahoma, Chunkfive, sans-serif;
  background: url('hatch.png') /* wtf? */;  color: #F0F0F0 !important;
  font-size:14px!important;
  width: 100%;
}

*.hljs-comment,.hljs-quote{color:#969896}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#d54e53}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#e78c45}.hljs-attribute{color:#e7c547}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#b9ca4a}.hljs-section,.hljs-title{color:#7aa6da}.hljs-keyword,.hljs-selector-tag{color:#c397d8}.hljs{display:block;overflow-x:auto;background:#000;color:#eaeaea;padding:3em}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:100}


.clearfix:after,.container-fluid:after,.container:after,.row-fluid:after,.row:after{clear:both}.lead,dl{margin-bottom:20px}hr,img{border:0}article,aside,details,figcaption,figure,footer,header,hgroup,nav,section{display:block}audio,canvas,video{display:inline-block}audio:not([controls]){display:none}html{font-size:100%;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%}a:focus{outline:#333 dotted thin;outline:-webkit-focus-ring-color auto 5px;outline-offset:-2px}a:active,a:hover{outline:0}sub,sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{max-width:100%;vertical-align:middle;-ms-interpolation-mode:bicubic}button,input,select,textarea{margin:0;font-size:100%;vertical-align:middle}button,input{line-height:normal}button::-moz-focus-inner,input::-moz-focus-inner{padding:5em;border:5em}button,input[type=button],input[type=reset],input[type=submit]{cursor:pointer;-webkit-appearance:button}input[type=search]{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;-webkit-appearance:textfield}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}textarea{overflow:auto;vertical-align:top}.clearfix:after,.clearfix:before{display:table;content:""}.hide-text{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0}body,p{font-size:13px;line-height:20px}body,h1,h2,h3,h4,h5,h6,p{font-family:"Open Sans","Helvetica Neue",Helvetica,Arial,sans-serif}.lead,h3{line-height:30px}.input-block-level{display:block;width:100%;min-height:14px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;box-sizing:border-box}.row-fluid:after,.row-fluid:before,.row:after,.row:before{display:table;content:""}.container,.navbar-fixed-bottom .container,.navbar-fixed-top .container,.span12{width:940px}body{margin:0;color:#333;background-color:#f8f8f8}.navbar .brand,.row{margin-left:-20px}a:hover{text-decoration:underline}[class*=span]{float:left;margin-left:20px}.span11{width:860px}.span10{width:780px}.span9{width:700px}.span8{width:620px}.span7{width:540px}.span6{width:460px}.span5{width:380px}.span4{width:300px}.span3{width:220px}.span2{width:140px}.span1{width:60px}.offset12{margin-left:980px}.offset11{margin-left:900px}.offset10{margin-left:820px}.offset9{margin-left:740px}.offset8{margin-left:660px}.offset7{margin-left:580px}.offset6{margin-left:500px}.offset5{margin-left:420px}.offset4{margin-left:340px}.offset3{margin-left:260px}.offset2{margin-left:180px}.offset1{margin-left:100px}.row-fluid{width:100%}.row-fluid [class*=span]{display:block;width:100%;min-height:14px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;box-sizing:border-box;float:left;margin-left:2.127659574%}.container-fluid:after,.container-fluid:before,.container:after,.container:before{display:table;content:""}.row-fluid [class*=span]:first-child{margin-left:0}.row-fluid .span12{width:99.99999998999999%}.row-fluid .span11{width:91.489361693%}.row-fluid .span10{width:82.97872339599999%}.row-fluid .span9{width:74.468085099%}.row-fluid .span8{width:65.95744680199999%}.row-fluid .span7{width:57.446808505%}.row-fluid .span6{width:48.93617020799999%}.row-fluid .span5{width:40.425531911%}.row-fluid .span4{width:31.914893614%}.row-fluid .span3{width:23.404255317%}.row-fluid .span2{width:14.89361702%}.row-fluid .span1{width:6.382978723%}.container{margin-right:auto;margin-left:auto}.container-fluid{padding-right:20px;padding-left:20px}address,blockquote small{display:block}p{margin:0 0 10px}p small{font-size:11px;color:#999}.lead{font-size:20px;font-weight:200}blockquote p,ol ol,ol ul,ul ol,ul ul{margin-bottom:0}h1,h2{line-height:40px}h1,h2,h3,h4,h5,h6{margin:0;font-weight:700;color:inherit;text-rendering:optimizelegibility}.muted,blockquote small,h6{color:#999}h1 small,h2 small,h3 small,h4 small,h5 small,h6 small{font-weight:400;color:#999}dt,strong{font-weight:700}h1 small,h2 small{font-size:18px}h2{font-size:24px}h3{font-size:18px}h3 small,h4{font-size:14px}h4,h5,h6{line-height:20px}h4 small,h5{font-size:12px}h6{font-size:11px;text-transform:uppercase}.page-header h1{line-height:1}address,blockquote small,dd,dt,li{line-height:20px}ol,ul{padding:0;margin:0 0 10px 25px}ul{list-style:disc}ol{list-style:decimal}ol.unstyled,ul.unstyled{margin-left:0;list-style:none}dt{line-height:19px}dd{margin-left:10px}.dl-horizontal dt{float:left;width:120px;clear:left;text-align:right;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.filter:after,.navbar-form:after,.social-buttons:after,.thumbnails:after{clear:both}.dl-horizontal dd{margin-left:130px}hr{margin:20px 0;border-top:1px solid #999;border-bottom:1px solid #fff}em{font-style:italic}address,cite{font-style:normal}abbr[title]{cursor:help;border-bottom:1px dotted #ddd}abbr.initialism{font-size:90%;text-transform:uppercase}blockquote{padding:0 0 0 15px;margin:0 0 20px;border-left:5px solid #eee}blockquote p{font-size:16px;font-weight:300;line-height:25px}blockquote small:before{content:'\2014 \00A0'}blockquote.pull-right{float:right;padding-right:15px;padding-left:0;border-right:5px solid #eee;border-left:0}blockquote.pull-right p,blockquote.pull-right small{text-align:right}blockquote:after,blockquote:before,q:after,q:before{content:""}address{margin-bottom:20px}small{font-size:100%}@font-face{font-family:FontAwesome;src:url(../font/fontawesome-webfont.eot);src:url(../font/fontawesome-webfont.eot?#iefix) format('embedded-opentype'),url(../font/fontawesome-webfont.woff) format('woff'),url(../font/fontawesome-webfont.ttf) format('truetype'),url(../font/fontawesome-webfont.svgz#FontAwesomeRegular) format('svg'),url(../font/fontawesome-webfont.svg#FontAwesomeRegular) format('svg');font-weight:400;font-style:normal}[class*=" icon-"],[class^=icon-]{display:inline;width:auto;height:auto;line-height:inherit;vertical-align:baseline;background-image:none;background-position:0 0;background-repeat:repeat}li[class*=" icon-"],li[class^=icon-]{display:block;margin-left:0;list-style-type:none}[class*=" icon-"]:before,[class^=icon-]:before{font-family:FontAwesome;font-weight:400;font-style:normal;display:inline-block;text-decoration:inherit}a [class*=" icon-"],a [class^=icon-]{display:inline-block;text-decoration:inherit}.icon-large:before{vertical-align:top;font-size:1.3333333333333333em}.btn [class*=" icon-"],.btn [class^=icon-]{line-height:.9em}li [class*=" icon-"],li [class^=icon-]{display:inline-block;width:1.25em;text-align:center}li .icon-large[class*=" icon-"],li .icon-large[class^=icon-]{width:1.875em}li[class*=" icon-"]:before,li[class^=icon-]:before{text-indent:-2em;text-align:center}li[class*=" icon-"].icon-large:before,li[class^=icon-].icon-large:before{text-indent:-1.3333333333333333em}.icon-glass:before{content:"\f000"}.icon-music:before{content:"\f001"}.icon-search:before{content:"\f002"}.icon-envelope:before{content:"\f003"}.icon-heart:before{content:"\f004"}.icon-star:before{content:"\f005"}.icon-star-empty:before{content:"\f006"}.icon-user:before{content:"\f007"}.icon-film:before{content:"\f008"}.icon-th-large:before{content:"\f009"}.icon-th:before{content:"\f00a"}.icon-th-list:before{content:"\f00b"}.icon-ok:before{content:"\f00c"}.icon-remove:before{content:"\f00d"}.icon-zoom-in:before{content:"\f00e"}.icon-zoom-out:before{content:"\f010"}.icon-off:before{content:"\f011"}.icon-signal:before{content:"\f012"}.icon-cog:before{content:"\f013"}.icon-trash:before{content:"\f014"}.icon-home:before{content:"\f015"}.icon-file:before{content:"\f016"}.icon-time:before{content:"\f017"}.icon-road:before{content:"\f018"}.icon-download-alt:before{content:"\f019"}.icon-download:before{content:"\f01a"}.icon-upload:before{content:"\f01b"}.icon-inbox:before{content:"\f01c"}.icon-play-circle:before{content:"\f01d"}.icon-repeat:before{content:"\f01e"}.icon-refresh:before{content:"\f021"}.icon-list-alt:before{content:"\f022"}.icon-lock:before{content:"\f023"}.icon-flag:before{content:"\f024"}.icon-headphones:before{content:"\f025"}.icon-volume-off:before{content:"\f026"}.icon-volume-down:before{content:"\f027"}.icon-volume-up:before{content:"\f028"}.icon-qrcode:before{content:"\f029"}.icon-barcode:before{content:"\f02a"}.icon-tag:before{content:"\f02b"}.icon-tags:before{content:"\f02c"}.icon-book:before{content:"\f02d"}.icon-bookmark:before{content:"\f02e"}.icon-print:before{content:"\f02f"}.icon-camera:before{content:"\f030"}.icon-font:before{content:"\f031"}.icon-bold:before{content:"\f032"}.icon-italic:before{content:"\f033"}.icon-text-height:before{content:"\f034"}.icon-text-width:before{content:"\f035"}.icon-align-left:before{content:"\f036"}.icon-align-center:before{content:"\f037"}.icon-align-right:before{content:"\f038"}.icon-align-justify:before{content:"\f039"}.icon-list:before{content:"\f03a"}.icon-indent-left:before{content:"\f03b"}.icon-indent-right:before{content:"\f03c"}.icon-facetime-video:before{content:"\f03d"}.icon-picture:before{content:"\f03e"}.icon-pencil:before{content:"\f040"}.icon-map-marker:before{content:"\f041"}.icon-adjust:before{content:"\f042"}.icon-tint:before{content:"\f043"}.icon-edit:before{content:"\f044"}.icon-share:before{content:"\f045"}.icon-check:before{content:"\f046"}.icon-move:before{content:"\f047"}.icon-step-backward:before{content:"\f048"}.icon-fast-backward:before{content:"\f049"}.icon-backward:before{content:"\f04a"}.icon-play:before{content:"\f04b"}.icon-pause:before{content:"\f04c"}.icon-stop:before{content:"\f04d"}.icon-forward:before{content:"\f04e"}.icon-fast-forward:before{content:"\f050"}.icon-step-forward:before{content:"\f051"}.icon-eject:before{content:"\f052"}.icon-chevron-left:before{content:"\f053"}.icon-chevron-right:before{content:"\f054"}.icon-plus-sign:before{content:"\f055"}.icon-minus-sign:before{content:"\f056"}.icon-remove-sign:before{content:"\f057"}.icon-ok-sign:before{content:"\f058"}.icon-question-sign:before{content:"\f059"}.icon-info-sign:before{content:"\f05a"}.icon-screenshot:before{content:"\f05b"}.icon-remove-circle:before{content:"\f05c"}.icon-ok-circle:before{content:"\f05d"}.icon-ban-circle:before{content:"\f05e"}.icon-arrow-left:before{content:"\f060"}.icon-arrow-right:before{content:"\f061"}.icon-arrow-up:before{content:"\f062"}.icon-arrow-down:before{content:"\f063"}.icon-share-alt:before{content:"\f064"}.icon-resize-full:before{content:"\f065"}.icon-resize-small:before{content:"\f066"}.icon-plus:before{content:"\f067"}.icon-minus:before{content:"\f068"}.icon-asterisk:before{content:"\f069"}.icon-exclamation-sign:before{content:"\f06a"}.icon-gift:before{content:"\f06b"}.icon-leaf:before{content:"\f06c"}.icon-fire:before{content:"\f06d"}.icon-eye-open:before{content:"\f06e"}.icon-eye-close:before{content:"\f070"}.icon-warning-sign:before{content:"\f071"}.icon-plane:before{content:"\f072"}.icon-calendar:before{content:"\f073"}.icon-random:before{content:"\f074"}.icon-comment:before{content:"\f075"}.icon-magnet:before{content:"\f076"}.icon-chevron-up:before{content:"\f077"}.icon-chevron-down:before{content:"\f078"}.icon-retweet:before{content:"\f079"}.icon-shopping-cart:before{content:"\f07a"}.icon-folder-close:before{content:"\f07b"}.icon-folder-open:before{content:"\f07c"}.icon-resize-vertical:before{content:"\f07d"}.icon-resize-horizontal:before{content:"\f07e"}.icon-bar-chart:before{content:"\f080"}.icon-twitter-sign:before{content:"\f081"}.icon-facebook-sign:before{content:"\f082"}.icon-camera-retro:before{content:"\f083"}.icon-key:before{content:"\f084"}.icon-cogs:before{content:"\f085"}.icon-comments:before{content:"\f086"}.icon-thumbs-up:before{content:"\f087"}.icon-thumbs-down:before{content:"\f088"}.icon-star-half:before{content:"\f089"}.icon-heart-empty:before{content:"\f08a"}.icon-signout:before{content:"\f08b"}.icon-linkedin-sign:before{content:"\f08c"}.icon-pushpin:before{content:"\f08d"}.icon-external-link:before{content:"\f08e"}.icon-signin:before{content:"\f090"}.icon-trophy:before{content:"\f091"}.icon-github-sign:before{content:"\f092"}.icon-upload-alt:before{content:"\f093"}.icon-lemon:before{content:"\f094"}.btn{display:inline-block;padding:4px 10px;margin-bottom:0;font-size:13px;line-height:20px;color:#333;text-align:center;text-shadow:0 1px 1px rgba(255,255,255,.75);vertical-align:middle;cursor:pointer;background-color:#f5f5f5;background-image:-moz-linear-gradient(top,#fff,#e6e6e6);background-image:-ms-linear-gradient(top,#fff,#e6e6e6);background-image:-webkit-gradient(linear,0 0,0 100%,from(#fff),to(#e6e6e6));background-image:-webkit-linear-gradient(top,#fff,#e6e6e6);background-image:-o-linear-gradient(top,#fff,#e6e6e6);background-image:linear-gradient(top,#fff,#e6e6e6);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(enabled=false);border:1px solid #ccc;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;-webkit-box-shadow:inset 0 1px 0 rgba(255,255,255,.2),0 1px 2px rgba(0,0,0,.05);-moz-box-shadow:inset 0 1px 0 rgba(255,255,255,.2),0 1px 2px rgba(0,0,0,.05);box-shadow:inset 0 1px 0 rgba(255,255,255,.2),0 1px 2px rgba(0,0,0,.05);border-color:rgba(0,0,0,.1) rgba(0,0,0,.1) rgba(0,0,0,.25)}.btn.active,.btn:active{background-color:#ccc\9}.btn:hover{color:#333;text-decoration:none;background-color:#e6e6e6;background-position:0 -15px;-webkit-transition:background-position .1s linear;-moz-transition:background-position .1s linear;-ms-transition:background-position .1s linear;-o-transition:background-position .1s linear;transition:background-position .1s linear}.btn:focus{outline:#333 dotted thin;outline:-webkit-focus-ring-color auto 5px;outline-offset:-2px}.btn.active,.btn:active{background-color:#e6e6e6;background-color:#d9d9d9\9;background-image:none;outline:0;-webkit-box-shadow:inset 0 2px 4px rgba(0,0,0,.15),0 1px 2px rgba(0,0,0,.05);-moz-box-shadow:inset 0 2px 4px rgba(0,0,0,.15),0 1px 2px rgba(0,0,0,.05);box-shadow:inset 0 2px 4px rgba(0,0,0,.15),0 1px 2px rgba(0,0,0,.05)}.btn.disabled,.btn[disabled]{cursor:default;background-color:#e6e6e6;background-image:none;opacity:.65;filter:alpha(opacity=65);-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.btn-danger,.btn-info,.btn-inverse,.btn-primary,.btn-success,.btn-warning{filter:progid:DXImageTransform.Microsoft.gradient(enabled=false)}.btn-large{padding:9px 14px;font-size:15px;line-height:normal;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px}.btn-large [class^=icon-]{margin-top:1px}.btn-small{padding:5px 9px;font-size:11px;line-height:18px}.btn-small [class^=icon-]{margin-top:-1px}.btn-mini{padding:2px 6px;font-size:11px;line-height:16px}.btn-danger,.btn-danger:hover,.btn-info,.btn-info:hover,.btn-inverse,.btn-inverse:hover,.btn-primary,.btn-primary:hover,.btn-success,.btn-success:hover,.btn-warning,.btn-warning:hover{color:#fff;text-shadow:0 -1px 0 rgba(0,0,0,.25)}.btn-danger.active,.btn-info.active,.btn-inverse.active,.btn-primary.active,.btn-success.active,.btn-warning.active{color:rgba(255,255,255,.75)}.navbar,.navbar .navbar-link{color:#999}.btn-primary{background-color:#0084cc;background-image:-moz-linear-gradient(top,#0098cc,#0065cc);background-image:-ms-linear-gradient(top,#0098cc,#0065cc);background-image:-webkit-gradient(linear,0 0,0 100%,from(#0098cc),to(#0065cc));background-image:-webkit-linear-gradient(top,#0098cc,#0065cc);background-image:-o-linear-gradient(top,#0098cc,#0065cc);background-image:linear-gradient(top,#0098cc,#0065cc);background-repeat:repeat-x;border-color:#0065cc #0065cc #003f80;border-color:rgba(0,0,0,.1) rgba(0,0,0,.1) rgba(0,0,0,.25)}.btn-primary.active,.btn-primary.disabled,.btn-primary:active,.btn-primary:hover,.btn-primary[disabled]{background-color:#0065cc}.btn-primary.active,.btn-primary:active{background-color:#004c99\9}.btn-warning{background-color:#faa732;background-image:-moz-linear-gradient(top,#fbb450,#f89406);background-image:-ms-linear-gradient(top,#fbb450,#f89406);background-image:-webkit-gradient(linear,0 0,0 100%,from(#fbb450),to(#f89406));background-image:-webkit-linear-gradient(top,#fbb450,#f89406);background-image:-o-linear-gradient(top,#fbb450,#f89406);background-image:linear-gradient(top,#fbb450,#f89406);background-repeat:repeat-x;border-color:#f89406 #f89406 #ad6704;border-color:rgba(0,0,0,.1) rgba(0,0,0,.1) rgba(0,0,0,.25)}.btn-warning.active,.btn-warning.disabled,.btn-warning:active,.btn-warning:hover,.btn-warning[disabled]{background-color:#f89406}.btn-warning.active,.btn-warning:active{background-color:#c67605\9}.btn-danger{background-color:#da4f49;background-image:-moz-linear-gradient(top,#ee5f5b,#bd362f);background-image:-ms-linear-gradient(top,#ee5f5b,#bd362f);background-image:-webkit-gradient(linear,0 0,0 100%,from(#ee5f5b),to(#bd362f));background-image:-webkit-linear-gradient(top,#ee5f5b,#bd362f);background-image:-o-linear-gradient(top,#ee5f5b,#bd362f);background-image:linear-gradient(top,#ee5f5b,#bd362f);background-repeat:repeat-x;border-color:#bd362f #bd362f #802420;border-color:rgba(0,0,0,.1) rgba(0,0,0,.1) rgba(0,0,0,.25)}.btn-danger.active,.btn-danger.disabled,.btn-danger:active,.btn-danger:hover,.btn-danger[disabled]{background-color:#bd362f}.btn-danger.active,.btn-danger:active{background-color:#942a25\9}.btn-success{background-color:#5bb75b;background-image:-moz-linear-gradient(top,#62c462,#51a351);background-image:-ms-linear-gradient(top,#62c462,#51a351);background-image:-webkit-gradient(linear,0 0,0 100%,from(#62c462),to(#51a351));background-image:-webkit-linear-gradient(top,#62c462,#51a351);background-image:-o-linear-gradient(top,#62c462,#51a351);background-image:linear-gradient(top,#62c462,#51a351);background-repeat:repeat-x;border-color:#51a351 #51a351 #387038;border-color:rgba(0,0,0,.1) rgba(0,0,0,.1) rgba(0,0,0,.25)}.btn-success.active,.btn-success.disabled,.btn-success:active,.btn-success:hover,.btn-success[disabled]{background-color:#51a351}.btn-success.active,.btn-success:active{background-color:#408140\9}.btn-info{background-color:#49afcd;background-image:-moz-linear-gradient(top,#5bc0de,#2f96b4);background-image:-ms-linear-gradient(top,#5bc0de,#2f96b4);background-image:-webkit-gradient(linear,0 0,0 100%,from(#5bc0de),to(#2f96b4));background-image:-webkit-linear-gradient(top,#5bc0de,#2f96b4);background-image:-o-linear-gradient(top,#5bc0de,#2f96b4);background-image:linear-gradient(top,#5bc0de,#2f96b4);background-repeat:repeat-x;border-color:#2f96b4 #2f96b4 #1f6377;border-color:rgba(0,0,0,.1) rgba(0,0,0,.1) rgba(0,0,0,.25)}.btn-info.active,.btn-info.disabled,.btn-info:active,.btn-info:hover,.btn-info[disabled]{background-color:#2f96b4}.btn-info.active,.btn-info:active{background-color:#24748c\9}.btn-inverse{background-color:#414141;background-image:-moz-linear-gradient(top,#555,#222);background-image:-ms-linear-gradient(top,#555,#222);background-image:-webkit-gradient(linear,0 0,0 100%,from(#555),to(#222));background-image:-webkit-linear-gradient(top,#555,#222);background-image:-o-linear-gradient(top,#555,#222);background-image:linear-gradient(top,#555,#222);background-repeat:repeat-x;border-color:#222 #222 #000;border-color:rgba(0,0,0,.1) rgba(0,0,0,.1) rgba(0,0,0,.25)}.navbar .btn-navbar,.navbar-inner{background-image:-moz-linear-gradient(top,#333,#222);background-image:-webkit-linear-gradient(top,#333,#222);background-repeat:repeat-x}.btn-inverse.active,.btn-inverse.disabled,.btn-inverse:active,.btn-inverse:hover,.btn-inverse[disabled]{background-color:#222}.btn-inverse.active,.btn-inverse:active{background-color:#080808\9}button.btn::-moz-focus-inner,input[type=submit].btn::-moz-focus-inner{padding:0;border:0}.navbar{overflow:visible;margin-bottom:20px}.navbar-inner{min-height:40px;padding-left:20px;padding-right:20px;background-color:#2c2c2c;background-image:-ms-linear-gradient(top,#333,#222);background-image:-webkit-gradient(linear,0 0,0 100%,from(#333),to(#222));background-image:-o-linear-gradient(top,#333,#222);background-image:linear-gradient(top,#333,#222);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#333333', endColorstr='#222222', GradientType=0);-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;-webkit-box-shadow:0 1px 3px rgba(0,0,0,.25),inset 0 -1px 0 rgba(0,0,0,.1);-moz-box-shadow:0 1px 3px rgba(0,0,0,.25),inset 0 -1px 0 rgba(0,0,0,.1);box-shadow:0 1px 3px rgba(0,0,0,.25),inset 0 -1px 0 rgba(0,0,0,.1)}.nav-collapse.collapse{height:auto}.navbar .brand:hover{text-decoration:none}.navbar .brand{float:left;display:block;padding:8px 20px 12px;font-size:20px;font-weight:200;line-height:1}.navbar .navbar-text{margin-bottom:0;line-height:40px}.navbar .navbar-link:hover{color:#fff}.navbar .btn,.navbar .btn-group{margin-top:5px}.navbar .btn-group .btn{margin:0}.navbar-form{margin-bottom:0}.navbar-form:after,.navbar-form:before{display:table;content:""}.navbar-form .checkbox,.navbar-form .radio,.navbar-form input,.navbar-form select{margin-top:5px}.navbar-form input,.navbar-form select{display:inline-block;margin-bottom:0}.navbar-form input[type=image],.navbar-form input[type=checkbox],.navbar-form input[type=radio]{margin-top:3px}.navbar-form .input-append,.navbar-form .input-prepend{margin-top:6px;white-space:nowrap}.navbar-form .input-append input,.navbar-form .input-prepend input{margin-top:0}.navbar-search{position:relative;float:left;margin-top:6px;margin-bottom:0}.navbar-search .search-query{padding:4px 9px;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:13px;font-weight:400;line-height:1;color:#fff;background-color:#626262;border:1px solid #151515;-webkit-box-shadow:inset 0 1px 2px rgba(0,0,0,.1),0 1px 0 rgba(255,255,255,.15);-moz-box-shadow:inset 0 1px 2px rgba(0,0,0,.1),0 1px 0 rgba(255,255,255,.15);box-shadow:inset 0 1px 2px rgba(0,0,0,.1),0 1px 0 rgba(255,255,255,.15);-webkit-transition:none;-moz-transition:none;-ms-transition:none;-o-transition:none;transition:none}.navbar-search .search-query:-moz-placeholder{color:#ccc}.navbar-search .search-query::-webkit-input-placeholder{color:#ccc}.navbar-search .search-query.focused,.navbar-search .search-query:focus{padding:5px 10px;color:#333;text-shadow:0 1px 0 #fff;background-color:#fff;border:0;-webkit-box-shadow:0 0 3px rgba(0,0,0,.15);-moz-box-shadow:0 0 3px rgba(0,0,0,.15);box-shadow:0 0 3px rgba(0,0,0,.15);outline:0}.navbar-fixed-bottom,.navbar-fixed-top{position:fixed;right:0;left:0;z-index:1030;margin-bottom:0}.navbar-fixed-bottom .navbar-inner,.navbar-fixed-top .navbar-inner{padding-left:0;padding-right:0;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.navbar-fixed-top{top:0}.navbar-fixed-bottom{bottom:0}.navbar .nav{position:relative;left:0;display:block;float:left;margin:0 10px 0 0}.navbar .nav.pull-right{float:right}.navbar .nav>li{display:block;float:left}.navbar .nav>li>a{float:none;padding:9px 10px 11px;line-height:19px;color:#999;text-decoration:none;text-shadow:0 -1px 0 rgba(0,0,0,.25)}.navbar .btn{display:inline-block;padding:4px 10px;margin:5px 5px 6px;line-height:20px}.navbar .btn-group{margin:0;padding:5px 5px 6px}.navbar .nav>li>a:hover{background-color:transparent;color:#fff;text-decoration:none}.navbar .nav .active>a,.navbar .nav .active>a:hover{color:#fff;text-decoration:none;background-color:#222}.navbar .divider-vertical{height:40px;width:1px;margin:0 9px;overflow:hidden;background-color:#222;border-right:1px solid #333}.navbar .nav.pull-right{margin-left:10px;margin-right:0}.navbar .btn-navbar{display:none;float:right;padding:7px 10px;margin-left:5px;margin-right:5px;background-color:#2c2c2c;background-image:-ms-linear-gradient(top,#333,#222);background-image:-webkit-gradient(linear,0 0,0 100%,from(#333),to(#222));background-image:-o-linear-gradient(top,#333,#222);background-image:linear-gradient(top,#333,#222);border-color:#222 #222 #000;border-color:rgba(0,0,0,.1) rgba(0,0,0,.1) rgba(0,0,0,.25);filter:progid:DXImageTransform.Microsoft.gradient(enabled=false);-webkit-box-shadow:inset 0 1px 0 rgba(255,255,255,.1),0 1px 0 rgba(255,255,255,.075);-moz-box-shadow:inset 0 1px 0 rgba(255,255,255,.1),0 1px 0 rgba(255,255,255,.075);box-shadow:inset 0 1px 0 rgba(255,255,255,.1),0 1px 0 rgba(255,255,255,.075)}.navbar .btn-navbar.active,.navbar .btn-navbar.disabled,.navbar .btn-navbar:active,.navbar .btn-navbar:hover,.navbar .btn-navbar[disabled]{background-color:#222}.navbar .btn-navbar.active,.navbar .btn-navbar:active{background-color:#080808\9}.navbar .btn-navbar .icon-bar{display:block;width:18px;height:2px;background-color:#f5f5f5;-webkit-border-radius:1px;-moz-border-radius:1px;border-radius:1px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.25);-moz-box-shadow:0 1px 0 rgba(0,0,0,.25);box-shadow:0 1px 0 rgba(0,0,0,.25)}.navbar .dropdown-menu:after,.navbar .dropdown-menu:before{content:'';display:inline-block;position:absolute}.btn-navbar .icon-bar+.icon-bar{margin-top:3px}.navbar .dropdown-menu:before{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #ccc;border-bottom-color:rgba(0,0,0,.2);top:-7px;left:9px}.navbar .dropdown-menu:after{border-left:6px solid transparent;border-right:6px solid transparent;border-bottom:6px solid #fff;top:-6px;left:10px}.navbar-fixed-bottom .dropdown-menu:before{border-top:7px solid #ccc;border-top-color:rgba(0,0,0,.2);border-bottom:0;bottom:-7px;top:auto}.navbar-fixed-bottom .dropdown-menu:after{border-top:6px solid #fff;border-bottom:0;bottom:-6px;top:auto}.navbar .nav li.dropdown .dropdown-toggle .caret,.navbar .nav li.dropdown.open .caret{border-top-color:#fff;border-bottom-color:#fff}.navbar .nav li.dropdown.active .caret{opacity:1;filter:alpha(opacity=100)}.navbar .nav li.dropdown.active>.dropdown-toggle,.navbar .nav li.dropdown.open.active>.dropdown-toggle,.navbar .nav li.dropdown.open>.dropdown-toggle{background-color:transparent}.navbar .nav li.dropdown.active>.dropdown-toggle:hover{color:#fff}.navbar .dropdown-menu.pull-right,.navbar .pull-right .dropdown-menu{left:auto;right:0}.navbar .dropdown-menu.pull-right:before,.navbar .pull-right .dropdown-menu:before{left:auto;right:12px}.navbar .dropdown-menu.pull-right:after,.navbar .pull-right .dropdown-menu:after{left:auto;right:13px}.thumbnails{margin-left:-20px;list-style:none}.thumbnails:after,.thumbnails:before{display:table;content:""}.row-fluid .thumbnails{margin-left:0}.thumbnails>li{float:left;margin-bottom:20px;margin-left:20px}.thumbnail{display:block;padding:4px;line-height:1;border:1px solid #ddd;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;-webkit-box-shadow:0 1px 1px rgba(0,0,0,.075);-moz-box-shadow:0 1px 1px rgba(0,0,0,.075);box-shadow:0 1px 1px rgba(0,0,0,.075)}a.thumbnail:hover{border-color:#0098cc;-webkit-box-shadow:0 1px 4px rgba(0,105,214,.25);-moz-box-shadow:0 1px 4px rgba(0,105,214,.25);box-shadow:0 1px 4px rgba(0,105,214,.25)}.thumbnail>img{display:block;max-width:100%;margin-left:auto;margin-right:auto}.thumbnail .caption{padding:9px}.pull-right{float:right}.pull-left,.social-buttons li{float:left}.hide{display:none}.show{display:block}.filter:after,.filter:before,.social-buttons:after,.social-buttons:before{display:table;content:""}.invisible{visibility:hidden}.isotope-item{z-index:2}.isotope-hidden.isotope-item{pointer-events:none;z-index:1}.isotope,.isotope .isotope-item{-webkit-transition-duration:.8s;-moz-transition-duration:.8s;-ms-transition-duration:.8s;-o-transition-duration:.8s;transition-duration:.8s}.isotope{-webkit-transition-property:height,width;-moz-transition-property:height,width;-ms-transition-property:height,width;-o-transition-property:height,width;transition-property:height,width}.isotope .isotope-item{-webkit-transition-property:-webkit-transform,opacity;-moz-transition-property:-moz-transform,opacity;-ms-transition-property:-ms-transform,opacity;-o-transition-property:top,left,opacity;transition-property:transform,opacity}.isotope .isotope-item.no-transition,.isotope.no-transition,.isotope.no-transition .isotope-item{-webkit-transition-duration:0s;-moz-transition-duration:0s;-ms-transition-duration:0s;-o-transition-duration:0s;transition-duration:0s}h1{text-shadow:0 1px 1px #eee;font-size:14px}.page-header .note,pre code{font-size:12px}h1,h2,h3{margin-bottom:.5em}a{text-decoration:none;color:#0098cc}a:hover{color:#005f80}code{padding:2px 4px;color:#d14;background-color:#f7f7f9;border:1px solid #e1e1e8;overflow:hidden}hr{border-style:dashed}.container{position:relative;padding:5px 0}.navbar{border-bottom:3px solid #0098cc;-webkit-box-shadow:rgba(0,0,0,.5) 0 5px 5px -4px;-moz-box-shadow:rgba(0,0,0,.5) 0 5px 5px -4px;box-shadow:rgba(0,0,0,.5) 0 5px 5px -4px}.navbar .navbar-inner{-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.navbar .container{width:940px;padding:0}.navbar .brand{color:#fff}.page-header{margin:30px 0 20px;padding-bottom:0;border-bottom:none;position:relative}.page-header h1{margin-bottom:10px}.page-header .btn-area{position:absolute;top:15px;right:0;text-align:center}.thumbnail{background:#fff;-webkit-transition:border-color .1s linear;transition:border-color .1s linear}.thumbnail img{border:1px solid #ccc}.thumbnail:hover{background:#f9f9f9;border-color:#0098cc;-webkit-transition:border-color .25s linear;-moz-transition:border-color .25s linear;-o-transition:border-color .25s linear;-ms-transition:border-color .25s linear;transition:border-color .25s linear;-webkit-box-shadow:0 1px 4px rgba(0,105,214,.25);-moz-box-shadow:0 1px 4px rgba(0,105,214,.25);box-shadow:0 1px 4px rgba(0,105,214,.25)}.btn{font-family:"Open Sans","Helvetica Neue",Helvetica,Arial,sans-serif;position:relative}.btn-large{padding-left:36px}.btn-large i{font-size:27px;position:absolute;top:6px;left:10px}.social-buttons{list-style-type:none;margin:0;padding:10px;background:#eee;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;height:20px}.header{margin-top:10px}.header-top{background:url(../img/palette.png) repeat-x;height:5px;-webkit-box-shadow:rgba(0,0,0,.5) 0 3px 3px -1px;-moz-box-shadow:rgba(0,0,0,.5) 0 3px 3px -1px;box-shadow:rgba(0,0,0,.5) 0 3px 3px -1px;position:fixed;width:100%;z-index:999;top:0;left:0}.main{padding:20px 0}.filter dt{color:#999;font-weight:400;margin-right:.3em}.filter dd,.filter dt{float:left;display:inline}.filter dd{margin-left:.3em}.filter dd a{text-decoration:none;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;padding:3px 9px}.filter dd.active a{background:#0098cc;color:#fff}.filter dd.active a:hover{text-decoration:none}.adsense{text-align:center;margin-bottom:20px}body{padding-bottom:20px}.sidebar{margin:10px 0 20px;padding:9px;background:#fff;border:1px solid #ccc;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px}.sidebar.adsense{padding:0;background:0 0;border:none}

body {
  text-align: center;
  background-color: #262626;
 }

#page-wrap {
  text-align: left;
  width: 800px;
  margin: 0 auto;
     
}

</style>

<script src="https://katzurki.github.io/gtt-bookmarklets/hl.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<head>
<title>Extending Originator UI: Perform AutoQC on Current Task</title>
</head>

	<div id="page-wrap">
<center><font color="silver">
<h2><p>Bookmarklets to Extend and Improve Originator UX</p></h2>
	<font color="gray">Different numbers are line limits for different languages</font><br>
	<a class="btn btn-blue" href="javascript:(function()%7B(function%20(global%2C%20factory)%20%7B%0A%20%20%20%20typeof%20exports%20%3D%3D%3D%20'object'%20%26%26%20typeof%20module%20!%3D%3D%20'undefined'%20%3F%0A%20%20%20%20%20%20%20%20module.exports%20%3D%20factory()%20%3A%0A%20%20%20%20%20%20%20%20typeof%20define%20%3D%3D%3D%20'function'%20%26%26%20define.amd%20%3F%20define(%0A%20%20%20%20%20%20%20%20%20%20%20%20factory)%20%3A%0A%20%20%20%20%20%20%20%20(global.parseSRT%20%3D%20factory())%3B%0A%7D(this%2C%20(function%20()%20%7B%0A%20%20%20%20'use%20strict'%3B%0A%0A%20%20%20%20function%20toSeconds(time)%20%7B%0A%20%20%20%20%20%20%20%20var%20t%20%3D%20time.split('%3A')%3B%0A%0A%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20s%20%3D%20t%5B2%5D.split('%2C')%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(s.length%20%3D%3D%3D%201)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20s%20%3D%20t%5B2%5D.split('.')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20parseFloat(t%5B0%5D%2C%2010)%20*%203600%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20parseFloat(t%5B1%5D%2C%2010)%20*%2060%20%2B%20parseFloat(s%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%200%5D%2C%2010)%20%2B%20parseFloat(s%5B1%5D%2C%2010)%20%2F%201000%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20catch%20(e)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%200%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20nextNonEmptyLine(linesArray%2C%20position)%20%7B%0A%20%20%20%20%20%20%20%20var%20idx%20%3D%20position%3B%0A%0A%20%20%20%20%20%20%20%20while%20(!linesArray%5Bidx%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20idx%2B%2B%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20return%20idx%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20lastNonEmptyLine(linesArray)%20%7B%0A%20%20%20%20%20%20%20%20var%20idx%20%3D%20linesArray.length%20-%201%3B%0A%0A%20%20%20%20%20%20%20%20while%20(idx%20%3E%3D%200%20%26%26%20!linesArray%5Bidx%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20idx--%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20return%20idx%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20parseSRT()%20%7B%0A%20%20%20%20%20%20%20%20var%20data%20%3D%20arguments.length%20%3E%200%20%26%26%20arguments%5B%0A%20%20%20%20%20%20%20%20%20%20%20%200%5D%20!%3D%3D%20undefined%20%3F%20arguments%5B0%5D%20%3A%20''%3B%0A%0A%20%20%20%20%20%20%20%20var%20subs%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20var%20lines%20%3D%20data.split(%2F(%3F%3A%5Cr%5Cn%7C%5Cr%7C%5Cn)%2Fgm)%3B%0A%20%20%20%20%20%20%20%20var%20endIdx%20%3D%20lastNonEmptyLine(lines)%20%2B%201%3B%0A%20%20%20%20%20%20%20%20var%20idx%20%3D%200%3B%0A%20%20%20%20%20%20%20%20var%20time%20%3D%20void%200%3B%0A%20%20%20%20%20%20%20%20var%20text%20%3D%20void%200%3B%0A%20%20%20%20%20%20%20%20var%20sub%20%3D%20void%200%3B%0A%0A%20%20%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20endIdx%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20sub%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20text%20%3D%20%5B%5D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20i%20%3D%20nextNonEmptyLine(lines%2C%20i)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20sub.id%20%3D%20parseInt(lines%5Bi%2B%2B%5D%2C%2010)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20time%20%3D%20lines%5Bi%2B%2B%5D.split(%2F%5B%5Ct%20%5D*--%3E%5B%5Ct%20%5D*%2F)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20sub.start%20%3D%20toSeconds(time%5B0%5D)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20idx%20%3D%20time%5B1%5D.indexOf('%20')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(idx%20!%3D%3D%20-1)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20time%5B1%5D%20%3D%20time%5B1%5D.substr(0%2C%20idx)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20sub.end%20%3D%20toSeconds(time%5B1%5D)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20while%20(i%20%3C%20endIdx%20%26%26%20lines%5Bi%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text.push(lines%5Bi%2B%2B%5D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20sub.text%20%3D%20text.join('%5C%5CN')%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.replace(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%5C%7B(%5C%5C%5B%5Cw%5D%2B%5C(%3F(%5B%5Cw%5Cd%5D%2B%2C%3F)%2B%5C)%3F)%2B%5C%7D%2Fgi%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'')%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20sub.text%20%3D%20sub.text.replace(%2F%3C%2Fg%2C%20'%26lt%3B')%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.replace(%2F%3E%2Fg%2C%20'%26gt%3B')%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20sub.text%20%3D%20sub.text.replace(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%26lt%3B(%5C%2F%3F(font%7Cb%7Cu%7Ci%7Cs))((%5Cs%2B(%5Cw%7C%5Cw%5B%5Cw%5C-%5D*%5Cw)(%5Cs*%3D%5Cs*(%3F%3A%22.*%3F%22%7C'.*%3F'%7C%5B%5E'%22%3E%5Cs%5D%2B))%3F)%2B%5Cs*%7C%5Cs*)(%5C%2F%3F)%26gt%3B%2Fgi%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'%3C%241%243%247%3E')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20sub.text%20%3D%20sub.text.replace(%2F%5C%5CN%2Fgi%2C%20%22%5Cn%22)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20subs.push(sub)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20return%20subs%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20parseSRT%3B%0A%0A%7D)))%3B%0A%0Avar%20our_clq%20%3D%20document.location.href.toString()%0A%20%20%20%20.split(%22%3D%22)%5B1%5D.split(%22%3A%22)%5B2%5D%0Avar%20clq_pattern%20%3D%20new%20RegExp(%0A%20%20%20%20'%5E%5B0-9a-f%5D%7B8%7D-%5B0-9a-f%5D%7B4%7D-%5B1-5%5D%5B0-9a-f%5D%7B3%7D-%5B89ab%5D%5B0-9a-f%5D%7B3%7D-%5B0-9a-f%5D%7B12%7D%24'%2C%0A%20%20%20%20'i')%3B%0A%0Aif%20(!our_clq%20%7C%7C%20!clq_pattern.test(our_clq))%20%7B%0A%20%20%20%20alert(%22You%20must%20be%20in%20an%20Originator%20task!%22)%3B%0A%20%20%20%20throw%20new%20Error%0A%7D%0A%0Aif%20(!clq_pattern.test(our_clq))%20%7B%0A%20%20%20%20alert(%22The%20CLQ%20is%20invalid%3A%20%22%20%2B%20our_clq%20%2B%20%22%5Cn%22%20%2B%0A%20%20%20%20%20%20%20%20%22Please%20report%20me%20to%20the%20developer.%22)%3B%0A%20%20%20%20throw%20new%20Error%0A%7D%0A%0Avar%20lsJson%20%3D%20localStorage%5B%22clq%3Aorigination%3A%22%20%2B%20our_clq%5D%0Aif%20(!lsJson)%20%7B%0A%20%20%20%20alert(%22Timed%20text%20events%20not%20found%20in%20localStorage%5Cnfor%20CLQ%3A%20%22%20%2B%0A%20%20%20%20%20%20%20%20our_clq%20%2B%20%22%5Cn%22%20%2B%20%22If%20the%20CLQ%20is%20correct%20and%22%20%2B%20%22%5Cn%22%20%2B%0A%20%20%20%20%20%20%20%20%22%5C%22Save%20to%20local%20storage%5C%22%20is%20enabled%20in%20Settings%2C%22%20%2B%0A%20%20%20%20%20%20%20%20%22%5Cn%22%20%2B%20%22save%20the%20task%20and%20try%20again.%22)%3B%0A%20%20%20%20throw%20new%20Error%0A%7D%0A%0Avar%20json_obj%20%3D%20JSON.parse(lsJson)%0Avar%20src%20%3D%20json_obj%5B%22events%22%5D%0Avar%20fps_%20%3D%20json_obj%5B%22meta%22%5D%5B%22fps%22%5D%3B%0Avar%20fps%20%3D%20fps_.split(%22_%22)%5B1%5D%20%2F%20100%0A%2F%2FFrom%20%7B%22fps%22%3A%22FPS_2500%22%7D%0A%2F%2Fvar%20proposed_fps%20%3D%20prompt(%22Framerate%20set%20to%3A%20%22%20%2B%20fps%20%2B%20%22%20fps.%5Cn%5CnEnter%20new%20value%20like%202997%2C%202500%20or%2023976023976023978%3A%22)%3B%0Atry%20%7B%0A%20%20%20%20if%20(proposed_fps)%20%7B%0A%20%20%20%20%20%20%20%20var%20int_fps%20%3D%20proposed_fps.substring(0%2C%202)%3B%0A%20%20%20%20%20%20%20%20var%20decimal_fps%20%3D%20proposed_fps.substring(2%2C%20proposed_fps%0A%20%20%20%20%20%20%20%20%20%20%20%20.length)%3B%0A%20%20%20%20%20%20%20%20fps_%20%3D%20%22FPS%22%20%2B%20%22_%22%20%2B%20int_fps%20%2B%20decimal_fps%0A%20%20%20%20%20%20%20%20fps%20%3D%20(int_fps%20%2B%20%22.%22%20%2B%20decimal_fps)%20*%201%3B%0A%20%20%20%20%7D%0A%7D%0Acatch%20(e)%20%7B%7D%0A%0Avar%20frms%20%3D%201000%20%2F%20fps%0Avar%20line_limit%20%3D%2042%0A%0Afunction%20srtName(suffix%20%3D%20%22%22)%20%7B%0A%20%20%20%20var%20s%20%3D%20document%0A%20%20%20%20%20%20%20%20.getElementsByClassName(%0A%20%20%20%20%20%20%20%20%20%20%20%20%22cpe-page-menu-label%22)%5B0%5D%0A%20%20%20%20%20%20%20%20.innerText%0A%20%20%20%20var%20srtName%20%3D%20(s.replace(%2F%5B%20%5D%2Fg%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2C%20'_')%0A%20%20%20%20%20%20%20%20%20%20%20%20.replace(%2F%5B%5Ea-z0-9_%5D%2Fgi%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2C%20'')%20%2B%20%22_%22%20%2B%20suffix%20%2B%20%22.srt%22%0A%20%20%20%20%20%20%20%20)%20%2F%2FThis%20gets%20rid%20of%20all%20punctuation%2C%20spaces%20and%20non-English%20letters%0A%20%20%20%20%20%20%20%20.trim()%20%2F%2Fresulting%20in%20a%20name%20like%2014545_El_Burrito_A_Breaking_Fat_Movie_FPS_2500.srt%0A%20%20%20%20if%20(!srtName)%20srtName%20%3D%20our_clq%20%2B%0A%20%20%20%20%20%20%20%20%22_%22%20%2B%20suffix%20%2B%0A%20%20%20%20%20%20%20%20%22.srt%22%20%2F%2FFallback%20measure.%20Useful%20for%20debugging%20later%0A%20%20%20%20return%20srtName%0A%7D%0A%0Afunction%20frames2tcf(framenumber%2C%20framerate%20%3D%0Afps)%20%7B%20%2F%2Fframes%20to%2000%3A01%3A02%3A24%20format%0A%20%20%20%20var%20seconds_float%20%3D%20framenumber%20%2F%20framerate%0A%20%20%20%20var%20seconds_int%20%3D%20Math.floor(seconds_float)%0A%20%20%20%20var%20seconds_frac%20%3D%20seconds_float%20-%20seconds_int%0A%20%20%20%20var%20frames%20%3D%20Math.round(seconds_frac%20*%20framerate)%20%2B%20''%0A%20%20%20%20var%20date%20%3D%20new%20Date(0)%3B%0A%20%20%20%20date.setSeconds(seconds_int)%3B%0A%20%20%20%20var%20timeString%20%3D%20date.toISOString()%0A%20%20%20%20%20%20%20%20.substr(11%2C%208)%0A%20%20%20%20if%20(frames.length%20%3D%3D%201)%20frames%20%3D%20%220%22%20%2B%20frames%0A%20%20%20%20var%20timecodef%20%3D%20timeString%20%2B%20%22%3A%22%20%2B%20frames%0A%20%20%20%20return%20timecodef%0A%7D%0A%0Afunction%20frames2timecode(frames)%20%7B%20%2F%2Fframes%20to%2000%3A01%3A02%2C000%20format%0A%20%20%20%20var%20milliseconds%20%3D%20Math.round(%0A%20%20%20%20%20%20%20%20frames%20*%20frms)%0A%20%20%20%20var%20srt_timecode%20%3D%20TimeConversion(%0A%20%20%20%20%20%20%20%20milliseconds)%0A%20%20%20%20return%20srt_timecode%0A%7D%0A%0Afunction%20array2srt(events_object)%20%7B%0A%20%20%20%20var%20ordered_events%20%3D%20%5B%5D%0A%20%20%20%20for%20(var%20id%20in%20events_object)%20%7B%0A%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20type_fn%20%3D%20events_object%5Bid%5D%5B%22type%22%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(type_fn%20%3D%3D%3D%20%22fn%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20events_object%5Bid%5D%5B%22txt%22%5D%20%2B%3D%20%22%3Cb%3E%3C%2Fb%3E%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type_fn%20%3D%20undefined%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20delete(type_fn)%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20catch%20(e)%20%7B%7D%0A%20%20%20%20%20%20%20%20ordered_events.push(%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20events_object%5Bid%5D%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22start%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%2C%20events_object%5Bid%5D%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22end%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%20events_object%5Bid%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5B%22txt%22%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%2C%20events_object%5Bid%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5B%22styles%22%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%2C%20events_object%5Bid%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5B%22rgn%22%5D%0A%20%20%20%20%20%20%20%20%5D)%0A%20%20%20%20%7D%0A%20%20%20%20ordered_events.sort(function%20(a%0A%20%20%20%20%20%20%20%20%2C%20b)%20%7B%0A%20%20%20%20%20%20%20%20return%20a%5B0%5D%20-%20b%5B0%5D%3B%0A%20%20%20%20%7D)%3B%20%2F%2FArray%20sorted%20by%20in_cues%2C%20sequentially%0A%20%20%20%20var%20index%20%3D%200%0A%20%20%20%20var%20srt_txt%20%3D%20''%0A%20%20%20%20for%20(event%20of%20ordered_events)%20%7B%0A%20%20%20%20%20%20%20%20index%2B%2B%0A%20%20%20%20%20%20%20%20var%20start%20%3D%20frames2timecode(%0A%20%20%20%20%20%20%20%20%20%20%20%20event%5B0%5D)%0A%20%20%20%20%20%20%20%20var%20end%20%3D%20frames2timecode(event%5B%0A%20%20%20%20%20%20%20%20%20%20%20%201%5D)%0A%20%20%20%20%20%20%20%20var%20content%20%3D%20event%5B2%5D%0A%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(typeof%20event%5B3%5D%5B0%5D%5B%22type%22%5D%20!%3D%3D%20%22undefined%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(event%5B3%5D%5B0%5D%5B%22type%22%5D%20%3D%3D%20%22italic%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20content%20%3D%20italicize(content%2C%20event%5B3%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20catch%20(e)%20%7B%7D%0A%0A%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(typeof%20event%5B4%5D%20!%3D%3D%20%22undefined%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(event%5B4%5D%20%3D%3D%20%22top%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20content%20%3D%20%22%7B%5C%5Can8%7D%22%20%2B%20content%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20catch%20(e)%20%7B%7D%0A%0A%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(event%5B%22type%22%5D%20%3D%3D%20%22fn%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20content%20%2B%3D%20'%3Cb%3E%3C%2Fb%3E'%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20catch%20(e)%20%7B%7D%0A%20%20%20%20%20%20%20%20console.log(content)%0A%20%20%20%20%20%20%20%20var%20current_event%20%3D%20index%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22%5Cn%22%20%2B%20start%20%2B%20%22%20--%3E%20%22%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20end%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22%5Cn%22%20%2B%20content%20%2B%20%22%5Cn%22%0A%20%20%20%20%20%20%20%20srt_txt%20%2B%3D%20current_event%20%2B%20%22%5Cn%22%0A%20%20%20%20%7D%0A%20%20%20%20return%20srt_txt%0A%7D%0A%0Afunction%20italicize(content%2C%20italics_array)%20%7B%0A%20%20%20%20position_offset%20%3D%200%0A%20%20%20%20for%20(var%20italic%20of%20italics_array)%20%7B%0A%20%20%20%20%20%20%20%20var%20position_from%20%3D%20italic%5B%22from%22%5D%20%2B%20position_offset%3B%0A%20%20%20%20%20%20%20%20position_offset%20%2B%3D%203%0A%20%20%20%20%20%20%20%20content%20%3D%20%5Bcontent.slice(0%2C%20position_from)%2C%20%22%3Ci%3E%22%2C%20content%0A%20%20%20%20%20%20%20%20%20%20%20%20.slice(position_from)%0A%20%20%20%20%20%20%20%20%5D.join('')%0A%20%20%20%20%20%20%20%20var%20position_to%20%3D%20italic%5B%22to%22%5D%20%2B%20position_offset%3B%0A%20%20%20%20%20%20%20%20position_offset%20%2B%3D%204%0A%20%20%20%20%20%20%20%20content%20%3D%20%5Bcontent.slice(0%2C%20position_to)%2C%20%22%3C%2Fi%3E%22%2C%20content%0A%20%20%20%20%20%20%20%20%20%20%20%20.slice(position_to)%0A%20%20%20%20%20%20%20%20%5D.join('')%0A%20%20%20%20%7D%0A%20%20%20%20return%20content%0A%7D%0A%0Afunction%20download(filename%2C%20text)%20%7B%0A%20%20%20%20var%20element%20%3D%20document%0A%20%20%20%20%20%20%20%20.createElement('a')%3B%0A%20%20%20%20element.setAttribute('href'%0A%20%20%20%20%20%20%20%20%2C%20'data%3Atext%2Fplain%3Bcharset%3Dutf-8%2C'%20%2B%0A%20%20%20%20%20%20%20%20encodeURIComponent(text))%3B%0A%20%20%20%20element.setAttribute('download'%0A%20%20%20%20%20%20%20%20%2C%20filename)%3B%0A%20%20%20%20element.style.display%20%3D%20'none'%3B%0A%20%20%20%20document.body.appendChild(element)%3B%0A%20%20%20%20element.click()%3B%0A%20%20%20%20document.body.removeChild(element)%3B%0A%7D%0A%0Afunction%20TimeConversion(duration)%20%7B%0A%20%20%20%20let%20time%20%3D%20parseDuration(duration)%0A%20%20%20%20return%20formatTimeHMSS(time)%0A%7D%0A%0Afunction%20parseDuration(duration)%20%7B%0A%20%20%20%20let%20remain%20%3D%20duration%0A%20%20%20%20let%20hours%20%3D%20Math.floor(remain%20%2F%20(%0A%20%20%20%20%20%20%20%201000%20*%2060%20*%2060))%0A%20%20%20%20remain%20%3D%20remain%20%25%20(1000%20*%2060%20*%2060)%0A%20%20%20%20let%20minutes%20%3D%20Math.floor(remain%20%2F%20(%0A%20%20%20%20%20%20%20%201000%20*%2060))%0A%20%20%20%20remain%20%3D%20remain%20%25%20(1000%20*%2060)%0A%20%20%20%20let%20seconds%20%3D%20Math.floor(remain%20%2F%20(%0A%20%20%20%20%20%20%20%201000))%0A%20%20%20%20remain%20%3D%20remain%20%25%20(1000)%0A%20%20%20%20let%20milliseconds%20%3D%20remain%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20hours%0A%20%20%20%20%20%20%20%20%2C%20minutes%0A%20%20%20%20%20%20%20%20%2C%20seconds%0A%20%20%20%20%20%20%20%20%2C%20milliseconds%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20formatTimeHMSS(o)%20%7B%0A%20%20%20%20let%20hours%20%3D%20o.hours.toString()%0A%20%20%20%20if%20(hours.length%20%3D%3D%3D%201)%20hours%20%3D%0A%20%20%20%20%20%20%20%20'0'%20%2B%20hours%0A%20%20%20%20let%20minutes%20%3D%20o.minutes.toString()%0A%20%20%20%20if%20(minutes.length%20%3D%3D%3D%201)%20minutes%20%3D%0A%20%20%20%20%20%20%20%20'0'%20%2B%20minutes%0A%20%20%20%20let%20seconds%20%3D%20o.seconds.toString()%0A%20%20%20%20if%20(seconds.length%20%3D%3D%3D%201)%20seconds%20%3D%0A%20%20%20%20%20%20%20%20'0'%20%2B%20seconds%0A%20%20%20%20let%20milliseconds%20%3D%20o.milliseconds%0A%20%20%20%20%20%20%20%20.toString()%0A%20%20%20%20if%20(milliseconds.length%20%3D%3D%3D%201)%0A%20%20%20%20%20%20%20%20milliseconds%20%3D%20'00'%20%2B%0A%20%20%20%20%20%20%20%20milliseconds%0A%20%20%20%20if%20(milliseconds.length%20%3D%3D%3D%202)%0A%20%20%20%20%20%20%20%20milliseconds%20%3D%20'0'%20%2B%0A%20%20%20%20%20%20%20%20milliseconds%0A%20%20%20%20return%20hours%20%2B%20%22%3A%22%20%2B%20minutes%20%2B%20%22%3A%22%20%2B%0A%20%20%20%20%20%20%20%20%2F%2FExample%3A%2000%3A01%3A02%2C999%20--%20note%20that%20the%20SRT%20spec%20calls%20for%20a%20comma%2C%20not%20a%20period!%0A%20%20%20%20%20%20%20%20seconds%20%2B%20%22%2C%22%20%2B%0A%20%20%20%20%20%20%20%20milliseconds%0A%7D%0A%0Afunction%20leftFillNum(num%2C%20targetLength)%20%7B%0A%20%20%20%20return%20num.toString()%0A%20%20%20%20%20%20%20%20.padStart(targetLength%2C%200)%3B%0A%7D%0A%0Avar%20SRT%20%3D%20parseSRT(array2srt(JSON.parse(localStorage%5B%0A%20%20%20%20%22clq%3Aorigination%3A%22%20%2B%20our_clq%5D)%5B%22events%22%5D))%3B%0Avar%20issues%20%3D%20%5B%5D%0A%0Afor%20(event%20of%20SRT)%20%7B%0A%20%20%20%20var%20start_frames%20%3D%20Math.round(event%5B%22start%22%5D%20*%20fps)%0A%20%20%20%20var%20end_frames%20%3D%20Math.round(event%5B%22end%22%5D%20*%20fps)%0A%20%20%20%20var%20start_tcf%20%3D%20frames2tcf(start_frames)%0A%20%20%20%20var%20end_tcf%20%3D%20frames2tcf(end_frames)%0A%20%20%20%20var%20id%20%3D%20event%5B%22id%22%5D%0A%20%20%20%20var%20_id%20%3D%20leftFillNum(id%2C%204)%0A%20%20%20%20var%20eventIssue%20%3D%20%5B%5D%0A%20%20%20%20var%20eventTxt%20%3D%20event%5B%22text%22%5D%0A%20%20%20%20eventTxt%20%3D%20eventTxt.replace(%2F(%3C(%5B%5E%3E%5D%2B)%3E)%2Fig%2C%20%22%22)%3B%0A%20%20%20%20eventTxt%20%3D%20eventTxt.replace(%2F%7B.an.%7D%2Fig%2C%20%22%22)%3B%0A%20%20%20%20if%20(eventTxt.indexOf(%22%5Cn%22)%20!%3D%3D%20-1%20%26%26%0A%20%20%20%20%20%20%20%20eventTxt.indexOf(%22%5Cn-%22)%20%3D%3D%20-1%20%26%26%0A%20%20%20%20%20%20%20%20eventTxt.replace(%22%5Cn%22%2C%20%22%20%22)%0A%20%20%20%20%20%20%20%20.length%20%3C%3D%20line_limit)%20%7B%0A%20%20%20%20%20%20%20%20eventIssue.push(%22Can%20fit%20on%20one%20line%22)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20(eventTxt.indexOf(%22...%22)%20!%3D%3D%20-1)%20%7B%0A%20%20%20%20%20%20%20%20eventIssue.push(%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Legacy%20ellipsis%20detected%3A%20replace%20...%20with%20%E2%80%A6%22)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20hasSpace%20%3D%20%2F%5Cs%24%7C%5E%5Cs%2F%3B%0A%20%20%20%20var%20eventTxt_lines%20%3D%20eventTxt.split(%22%5Cn%22)%3B%0A%20%20%20%20var%20nPos%20%3D%20eventTxt.lastIndexOf(%22%5Cn%22)%3B%0A%20%20%20%20var%20hasSpaceIssue%20%3D%20nPos%20%26%26%20(typeof%20eventTxt%5BnPos%20%2B%201%5D%20%3D%3D%0A%20%20%20%20%20%20%20%20%22undefined%22)%0A%20%20%20%20var%20overLineLimit%20%3D%20false%0A%20%20%20%20var%20hasDoubleSpace%20%3D%20eventTxt.replace(%22%5Cn%22%2C%20%22%22)%0A%20%20%20%20%20%20%20%20.split(%2F%5Cs%5Cs%2F)%0A%20%20%20%20%20%20%20%20.length%20-%201%0A%20%20%20%20var%20hasThreeLines%20%3D%20typeof%20eventTxt_lines%5B2%5D%20!%3D%3D%20%22undefined%22%0A%0A%20%20%20%20for%20(var%20line%20of%20eventTxt_lines)%20%7B%0A%20%20%20%20%20%20%20%20hasSpaceIssue%20%3D%20(hasSpace.test(line)%20%7C%7C%20hasSpaceIssue)%0A%20%20%20%20%20%20%20%20if%20(line.length%20%3E%20line_limit)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20overLineLimit%20%3D%20true%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20(hasDoubleSpace)%20%7B%0A%20%20%20%20%20%20%20%20eventIssue.push(%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Double%20spaces%20detected%2C%20replace%20with%20single%20space%22)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20(hasThreeLines)%20%7B%0A%20%20%20%20%20%20%20%20eventIssue.push(%22Three%20lines%20detected%20in%20this%20event%22)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20(hasSpaceIssue)%20%7B%0A%20%20%20%20%20%20%20%20if%20(eventTxt.length%20%3E%201)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20eventIssue.push(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22One%20of%20the%20lines%20begins%20or%20ends%20with%20whitespace%22)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20eventIssue.push(%22Empty%20event%20detected%22)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20(overLineLimit)%20%7B%0A%20%20%20%20%20%20%20%20eventIssue.push(%22Line%20over%20max%20limit%20of%20%22%20%2B%20line_limit)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20totalLength%20%3D%20eventTxt.length%0A%20%20%20%20var%20eventLines%20%3D%20eventTxt.split(%22%5Cn%22)%0A%20%20%20%20if%20(typeof%20eventIssue%20!%3D%3D%20%22undefined%22%20%26%26%20eventIssue.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20log_event%20%3D%20(start_tcf%20%2B%20%22%20%20%20%20%22%20%2B%20eventTxt_lines%5B0%5D.slice(0%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20line_limit)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.padEnd(line_limit%20%2B%204%2C%20%22%20%22)%20%2B%20_id)%0A%20%20%20%20%20%20%20%20%20%20%20%20.padEnd(line_limit%20%2B%2010%2C%20%22%20%22)%0A%20%20%20%20%20%20%20%20if%20(typeof%20eventTxt_lines%5B1%5D%20!%3D%3D%20%22undefined%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20log_event%20%2B%3D%20%22%5Cn%22%20%2B%20end_tcf%20%2B%20%22%20%20%20%20%22%20%2B%20eventTxt_lines%5B1%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.padEnd(line_limit%20%2B%208%2C%20%22%20%22)%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20log_event%20%2B%3D%20%22%5Cn%22%20%2B%20end_tcf%20%2B%20%22%20%20%20%20%20%20%22%20%2B%20%22%20%22.padEnd(line_limit%2B6%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%22)%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20console.log('%25c'%20%2B%20log_event%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20'background%3A%20%2312343b%3B%20color%3A%20%23e1b382')%0A%20%20%20%20%20%20%20%20%2F%2Fconsole.log((%2B_id%2B%22%5Cn%22%2Bstart_tcf%2B%22%5Cn%22%2Bend_tcf%2B%22%5Cn%22%2BeventTxt).padEnd(50)%2C%20'background%3A%20%23222%3B%20color%3A%20%23bada55')%3B%0A%20%20%20%20%20%20%20%20console.log(('%25c'%20%2B%20eventIssue.join(%22%5Cn%22))%0A%20%20%20%20%20%20%20%20%20%20%20%20.padEnd(50)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20'background%3A%20%23FFF%3B%20color%3A%20%23FF0000%3B%20font-style%3A%20italic%3B%20border%3Asolid%201px%20%23000%3B'%0A%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20console.log(%22%E2%94%89%22.repeat(63))%0A%0A%20%20%20%20%20%20%20%20issue%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20id%0A%20%20%20%20%20%20%20%20%20%20%20%20%2C%20issues%3A%20eventIssue%0A%20%20%20%20%20%20%20%20%20%20%20%20%2C%20content%3A%20eventTxt%0A%20%20%20%20%20%20%20%20%20%20%20%20%2C%20start_tcf%3A%20start_tcf%0A%20%20%20%20%20%20%20%20%20%20%20%20%2C%20end_tcf%3A%20end_tcf%0A%20%20%20%20%20%20%20%20%20%20%20%20%2C%20start_frames%3A%20start_frames%0A%20%20%20%20%20%20%20%20%20%20%20%20%2C%20end_frames%3A%20end_frames%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20issues.push(issue)%0A%0A%20%20%20%20%7D%0A%7D%7D)()%3B">AutoQC 42</a>(EN)
<a class="btn btn-blue" href="javascript:(function()%7B(function%20(global%2C%20factory)%20%7B%0A%20%20%20%20typeof%20exports%20%3D%3D%3D%20'object'%20%26%26%20typeof%20module%20!%3D%3D%20'undefined'%20%3F%0A%20%20%20%20%20%20%20%20module.exports%20%3D%20factory()%20%3A%0A%20%20%20%20%20%20%20%20typeof%20define%20%3D%3D%3D%20'function'%20%26%26%20define.amd%20%3F%20define(%0A%20%20%20%20%20%20%20%20%20%20%20%20factory)%20%3A%0A%20%20%20%20%20%20%20%20(global.parseSRT%20%3D%20factory())%3B%0A%7D(this%2C%20(function%20()%20%7B%0A%20%20%20%20'use%20strict'%3B%0A%0A%20%20%20%20function%20toSeconds(time)%20%7B%0A%20%20%20%20%20%20%20%20var%20t%20%3D%20time.split('%3A')%3B%0A%0A%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20s%20%3D%20t%5B2%5D.split('%2C')%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(s.length%20%3D%3D%3D%201)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20s%20%3D%20t%5B2%5D.split('.')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20parseFloat(t%5B0%5D%2C%2010)%20*%203600%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20parseFloat(t%5B1%5D%2C%2010)%20*%2060%20%2B%20parseFloat(s%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%200%5D%2C%2010)%20%2B%20parseFloat(s%5B1%5D%2C%2010)%20%2F%201000%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20catch%20(e)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%200%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20nextNonEmptyLine(linesArray%2C%20position)%20%7B%0A%20%20%20%20%20%20%20%20var%20idx%20%3D%20position%3B%0A%0A%20%20%20%20%20%20%20%20while%20(!linesArray%5Bidx%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20idx%2B%2B%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20return%20idx%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20lastNonEmptyLine(linesArray)%20%7B%0A%20%20%20%20%20%20%20%20var%20idx%20%3D%20linesArray.length%20-%201%3B%0A%0A%20%20%20%20%20%20%20%20while%20(idx%20%3E%3D%200%20%26%26%20!linesArray%5Bidx%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20idx--%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20return%20idx%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20parseSRT()%20%7B%0A%20%20%20%20%20%20%20%20var%20data%20%3D%20arguments.length%20%3E%200%20%26%26%20arguments%5B%0A%20%20%20%20%20%20%20%20%20%20%20%200%5D%20!%3D%3D%20undefined%20%3F%20arguments%5B0%5D%20%3A%20''%3B%0A%0A%20%20%20%20%20%20%20%20var%20subs%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20var%20lines%20%3D%20data.split(%2F(%3F%3A%5Cr%5Cn%7C%5Cr%7C%5Cn)%2Fgm)%3B%0A%20%20%20%20%20%20%20%20var%20endIdx%20%3D%20lastNonEmptyLine(lines)%20%2B%201%3B%0A%20%20%20%20%20%20%20%20var%20idx%20%3D%200%3B%0A%20%20%20%20%20%20%20%20var%20time%20%3D%20void%200%3B%0A%20%20%20%20%20%20%20%20var%20text%20%3D%20void%200%3B%0A%20%20%20%20%20%20%20%20var%20sub%20%3D%20void%200%3B%0A%0A%20%20%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20endIdx%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20sub%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20text%20%3D%20%5B%5D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20i%20%3D%20nextNonEmptyLine(lines%2C%20i)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20sub.id%20%3D%20parseInt(lines%5Bi%2B%2B%5D%2C%2010)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20time%20%3D%20lines%5Bi%2B%2B%5D.split(%2F%5B%5Ct%20%5D*--%3E%5B%5Ct%20%5D*%2F)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20sub.start%20%3D%20toSeconds(time%5B0%5D)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20idx%20%3D%20time%5B1%5D.indexOf('%20')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(idx%20!%3D%3D%20-1)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20time%5B1%5D%20%3D%20time%5B1%5D.substr(0%2C%20idx)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20sub.end%20%3D%20toSeconds(time%5B1%5D)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20while%20(i%20%3C%20endIdx%20%26%26%20lines%5Bi%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text.push(lines%5Bi%2B%2B%5D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20sub.text%20%3D%20text.join('%5C%5CN')%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.replace(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%5C%7B(%5C%5C%5B%5Cw%5D%2B%5C(%3F(%5B%5Cw%5Cd%5D%2B%2C%3F)%2B%5C)%3F)%2B%5C%7D%2Fgi%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'')%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20sub.text%20%3D%20sub.text.replace(%2F%3C%2Fg%2C%20'%26lt%3B')%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.replace(%2F%3E%2Fg%2C%20'%26gt%3B')%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20sub.text%20%3D%20sub.text.replace(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%26lt%3B(%5C%2F%3F(font%7Cb%7Cu%7Ci%7Cs))((%5Cs%2B(%5Cw%7C%5Cw%5B%5Cw%5C-%5D*%5Cw)(%5Cs*%3D%5Cs*(%3F%3A%22.*%3F%22%7C'.*%3F'%7C%5B%5E'%22%3E%5Cs%5D%2B))%3F)%2B%5Cs*%7C%5Cs*)(%5C%2F%3F)%26gt%3B%2Fgi%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'%3C%241%243%247%3E')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20sub.text%20%3D%20sub.text.replace(%2F%5C%5CN%2Fgi%2C%20%22%5Cn%22)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20subs.push(sub)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20return%20subs%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20parseSRT%3B%0A%0A%7D)))%3B%0A%0Avar%20our_clq%20%3D%20document.location.href.toString()%0A%20%20%20%20.split(%22%3D%22)%5B1%5D.split(%22%3A%22)%5B2%5D%0Avar%20clq_pattern%20%3D%20new%20RegExp(%0A%20%20%20%20'%5E%5B0-9a-f%5D%7B8%7D-%5B0-9a-f%5D%7B4%7D-%5B1-5%5D%5B0-9a-f%5D%7B3%7D-%5B89ab%5D%5B0-9a-f%5D%7B3%7D-%5B0-9a-f%5D%7B12%7D%24'%2C%0A%20%20%20%20'i')%3B%0A%0Aif%20(!our_clq%20%7C%7C%20!clq_pattern.test(our_clq))%20%7B%0A%20%20%20%20alert(%22You%20must%20be%20in%20an%20Originator%20task!%22)%3B%0A%20%20%20%20throw%20new%20Error%0A%7D%0A%0Aif%20(!clq_pattern.test(our_clq))%20%7B%0A%20%20%20%20alert(%22The%20CLQ%20is%20invalid%3A%20%22%20%2B%20our_clq%20%2B%20%22%5Cn%22%20%2B%0A%20%20%20%20%20%20%20%20%22Please%20report%20me%20to%20the%20developer.%22)%3B%0A%20%20%20%20throw%20new%20Error%0A%7D%0A%0Avar%20lsJson%20%3D%20localStorage%5B%22clq%3Aorigination%3A%22%20%2B%20our_clq%5D%0Aif%20(!lsJson)%20%7B%0A%20%20%20%20alert(%22Timed%20text%20events%20not%20found%20in%20localStorage%5Cnfor%20CLQ%3A%20%22%20%2B%0A%20%20%20%20%20%20%20%20our_clq%20%2B%20%22%5Cn%22%20%2B%20%22If%20the%20CLQ%20is%20correct%20and%22%20%2B%20%22%5Cn%22%20%2B%0A%20%20%20%20%20%20%20%20%22%5C%22Save%20to%20local%20storage%5C%22%20is%20enabled%20in%20Settings%2C%22%20%2B%0A%20%20%20%20%20%20%20%20%22%5Cn%22%20%2B%20%22save%20the%20task%20and%20try%20again.%22)%3B%0A%20%20%20%20throw%20new%20Error%0A%7D%0A%0Avar%20json_obj%20%3D%20JSON.parse(lsJson)%0Avar%20src%20%3D%20json_obj%5B%22events%22%5D%0Avar%20fps_%20%3D%20json_obj%5B%22meta%22%5D%5B%22fps%22%5D%3B%0Avar%20fps%20%3D%20fps_.split(%22_%22)%5B1%5D%20%2F%20100%0A%2F%2FFrom%20%7B%22fps%22%3A%22FPS_2500%22%7D%0A%2F%2Fvar%20proposed_fps%20%3D%20prompt(%22Framerate%20set%20to%3A%20%22%20%2B%20fps%20%2B%20%22%20fps.%5Cn%5CnEnter%20new%20value%20like%202997%2C%202500%20or%2023976023976023978%3A%22)%3B%0Atry%20%7B%0A%20%20%20%20if%20(proposed_fps)%20%7B%0A%20%20%20%20%20%20%20%20var%20int_fps%20%3D%20proposed_fps.substring(0%2C%202)%3B%0A%20%20%20%20%20%20%20%20var%20decimal_fps%20%3D%20proposed_fps.substring(2%2C%20proposed_fps%0A%20%20%20%20%20%20%20%20%20%20%20%20.length)%3B%0A%20%20%20%20%20%20%20%20fps_%20%3D%20%22FPS%22%20%2B%20%22_%22%20%2B%20int_fps%20%2B%20decimal_fps%0A%20%20%20%20%20%20%20%20fps%20%3D%20(int_fps%20%2B%20%22.%22%20%2B%20decimal_fps)%20*%201%3B%0A%20%20%20%20%7D%0A%7D%0Acatch%20(e)%20%7B%7D%0A%0Avar%20frms%20%3D%201000%20%2F%20fps%0Avar%20line_limit%20%3D%2039%0A%0Afunction%20srtName(suffix%20%3D%20%22%22)%20%7B%0A%20%20%20%20var%20s%20%3D%20document%0A%20%20%20%20%20%20%20%20.getElementsByClassName(%0A%20%20%20%20%20%20%20%20%20%20%20%20%22cpe-page-menu-label%22)%5B0%5D%0A%20%20%20%20%20%20%20%20.innerText%0A%20%20%20%20var%20srtName%20%3D%20(s.replace(%2F%5B%20%5D%2Fg%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2C%20'_')%0A%20%20%20%20%20%20%20%20%20%20%20%20.replace(%2F%5B%5Ea-z0-9_%5D%2Fgi%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2C%20'')%20%2B%20%22_%22%20%2B%20suffix%20%2B%20%22.srt%22%0A%20%20%20%20%20%20%20%20)%20%2F%2FThis%20gets%20rid%20of%20all%20punctuation%2C%20spaces%20and%20non-English%20letters%0A%20%20%20%20%20%20%20%20.trim()%20%2F%2Fresulting%20in%20a%20name%20like%2014545_El_Burrito_A_Breaking_Fat_Movie_FPS_2500.srt%0A%20%20%20%20if%20(!srtName)%20srtName%20%3D%20our_clq%20%2B%0A%20%20%20%20%20%20%20%20%22_%22%20%2B%20suffix%20%2B%0A%20%20%20%20%20%20%20%20%22.srt%22%20%2F%2FFallback%20measure.%20Useful%20for%20debugging%20later%0A%20%20%20%20return%20srtName%0A%7D%0A%0Afunction%20frames2tcf(framenumber%2C%20framerate%20%3D%0Afps)%20%7B%20%2F%2Fframes%20to%2000%3A01%3A02%3A24%20format%0A%20%20%20%20var%20seconds_float%20%3D%20framenumber%20%2F%20framerate%0A%20%20%20%20var%20seconds_int%20%3D%20Math.floor(seconds_float)%0A%20%20%20%20var%20seconds_frac%20%3D%20seconds_float%20-%20seconds_int%0A%20%20%20%20var%20frames%20%3D%20Math.round(seconds_frac%20*%20framerate)%20%2B%20''%0A%20%20%20%20var%20date%20%3D%20new%20Date(0)%3B%0A%20%20%20%20date.setSeconds(seconds_int)%3B%0A%20%20%20%20var%20timeString%20%3D%20date.toISOString()%0A%20%20%20%20%20%20%20%20.substr(11%2C%208)%0A%20%20%20%20if%20(frames.length%20%3D%3D%201)%20frames%20%3D%20%220%22%20%2B%20frames%0A%20%20%20%20var%20timecodef%20%3D%20timeString%20%2B%20%22%3A%22%20%2B%20frames%0A%20%20%20%20return%20timecodef%0A%7D%0A%0Afunction%20frames2timecode(frames)%20%7B%20%2F%2Fframes%20to%2000%3A01%3A02%2C000%20format%0A%20%20%20%20var%20milliseconds%20%3D%20Math.round(%0A%20%20%20%20%20%20%20%20frames%20*%20frms)%0A%20%20%20%20var%20srt_timecode%20%3D%20TimeConversion(%0A%20%20%20%20%20%20%20%20milliseconds)%0A%20%20%20%20return%20srt_timecode%0A%7D%0A%0Afunction%20array2srt(events_object)%20%7B%0A%20%20%20%20var%20ordered_events%20%3D%20%5B%5D%0A%20%20%20%20for%20(var%20id%20in%20events_object)%20%7B%0A%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20type_fn%20%3D%20events_object%5Bid%5D%5B%22type%22%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(type_fn%20%3D%3D%3D%20%22fn%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20events_object%5Bid%5D%5B%22txt%22%5D%20%2B%3D%20%22%3Cb%3E%3C%2Fb%3E%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type_fn%20%3D%20undefined%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20delete(type_fn)%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20catch%20(e)%20%7B%7D%0A%20%20%20%20%20%20%20%20ordered_events.push(%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20events_object%5Bid%5D%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22start%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%2C%20events_object%5Bid%5D%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22end%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%20events_object%5Bid%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5B%22txt%22%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%2C%20events_object%5Bid%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5B%22styles%22%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%2C%20events_object%5Bid%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5B%22rgn%22%5D%0A%20%20%20%20%20%20%20%20%5D)%0A%20%20%20%20%7D%0A%20%20%20%20ordered_events.sort(function%20(a%0A%20%20%20%20%20%20%20%20%2C%20b)%20%7B%0A%20%20%20%20%20%20%20%20return%20a%5B0%5D%20-%20b%5B0%5D%3B%0A%20%20%20%20%7D)%3B%20%2F%2FArray%20sorted%20by%20in_cues%2C%20sequentially%0A%20%20%20%20var%20index%20%3D%200%0A%20%20%20%20var%20srt_txt%20%3D%20''%0A%20%20%20%20for%20(event%20of%20ordered_events)%20%7B%0A%20%20%20%20%20%20%20%20index%2B%2B%0A%20%20%20%20%20%20%20%20var%20start%20%3D%20frames2timecode(%0A%20%20%20%20%20%20%20%20%20%20%20%20event%5B0%5D)%0A%20%20%20%20%20%20%20%20var%20end%20%3D%20frames2timecode(event%5B%0A%20%20%20%20%20%20%20%20%20%20%20%201%5D)%0A%20%20%20%20%20%20%20%20var%20content%20%3D%20event%5B2%5D%0A%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(typeof%20event%5B3%5D%5B0%5D%5B%22type%22%5D%20!%3D%3D%20%22undefined%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(event%5B3%5D%5B0%5D%5B%22type%22%5D%20%3D%3D%20%22italic%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20content%20%3D%20italicize(content%2C%20event%5B3%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20catch%20(e)%20%7B%7D%0A%0A%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(typeof%20event%5B4%5D%20!%3D%3D%20%22undefined%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(event%5B4%5D%20%3D%3D%20%22top%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20content%20%3D%20%22%7B%5C%5Can8%7D%22%20%2B%20content%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20catch%20(e)%20%7B%7D%0A%0A%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(event%5B%22type%22%5D%20%3D%3D%20%22fn%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20content%20%2B%3D%20'%3Cb%3E%3C%2Fb%3E'%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20catch%20(e)%20%7B%7D%0A%20%20%20%20%20%20%20%20console.log(content)%0A%20%20%20%20%20%20%20%20var%20current_event%20%3D%20index%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22%5Cn%22%20%2B%20start%20%2B%20%22%20--%3E%20%22%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20end%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22%5Cn%22%20%2B%20content%20%2B%20%22%5Cn%22%0A%20%20%20%20%20%20%20%20srt_txt%20%2B%3D%20current_event%20%2B%20%22%5Cn%22%0A%20%20%20%20%7D%0A%20%20%20%20return%20srt_txt%0A%7D%0A%0Afunction%20italicize(content%2C%20italics_array)%20%7B%0A%20%20%20%20position_offset%20%3D%200%0A%20%20%20%20for%20(var%20italic%20of%20italics_array)%20%7B%0A%20%20%20%20%20%20%20%20var%20position_from%20%3D%20italic%5B%22from%22%5D%20%2B%20position_offset%3B%0A%20%20%20%20%20%20%20%20position_offset%20%2B%3D%203%0A%20%20%20%20%20%20%20%20content%20%3D%20%5Bcontent.slice(0%2C%20position_from)%2C%20%22%3Ci%3E%22%2C%20content%0A%20%20%20%20%20%20%20%20%20%20%20%20.slice(position_from)%0A%20%20%20%20%20%20%20%20%5D.join('')%0A%20%20%20%20%20%20%20%20var%20position_to%20%3D%20italic%5B%22to%22%5D%20%2B%20position_offset%3B%0A%20%20%20%20%20%20%20%20position_offset%20%2B%3D%204%0A%20%20%20%20%20%20%20%20content%20%3D%20%5Bcontent.slice(0%2C%20position_to)%2C%20%22%3C%2Fi%3E%22%2C%20content%0A%20%20%20%20%20%20%20%20%20%20%20%20.slice(position_to)%0A%20%20%20%20%20%20%20%20%5D.join('')%0A%20%20%20%20%7D%0A%20%20%20%20return%20content%0A%7D%0A%0Afunction%20download(filename%2C%20text)%20%7B%0A%20%20%20%20var%20element%20%3D%20document%0A%20%20%20%20%20%20%20%20.createElement('a')%3B%0A%20%20%20%20element.setAttribute('href'%0A%20%20%20%20%20%20%20%20%2C%20'data%3Atext%2Fplain%3Bcharset%3Dutf-8%2C'%20%2B%0A%20%20%20%20%20%20%20%20encodeURIComponent(text))%3B%0A%20%20%20%20element.setAttribute('download'%0A%20%20%20%20%20%20%20%20%2C%20filename)%3B%0A%20%20%20%20element.style.display%20%3D%20'none'%3B%0A%20%20%20%20document.body.appendChild(element)%3B%0A%20%20%20%20element.click()%3B%0A%20%20%20%20document.body.removeChild(element)%3B%0A%7D%0A%0Afunction%20TimeConversion(duration)%20%7B%0A%20%20%20%20let%20time%20%3D%20parseDuration(duration)%0A%20%20%20%20return%20formatTimeHMSS(time)%0A%7D%0A%0Afunction%20parseDuration(duration)%20%7B%0A%20%20%20%20let%20remain%20%3D%20duration%0A%20%20%20%20let%20hours%20%3D%20Math.floor(remain%20%2F%20(%0A%20%20%20%20%20%20%20%201000%20*%2060%20*%2060))%0A%20%20%20%20remain%20%3D%20remain%20%25%20(1000%20*%2060%20*%2060)%0A%20%20%20%20let%20minutes%20%3D%20Math.floor(remain%20%2F%20(%0A%20%20%20%20%20%20%20%201000%20*%2060))%0A%20%20%20%20remain%20%3D%20remain%20%25%20(1000%20*%2060)%0A%20%20%20%20let%20seconds%20%3D%20Math.floor(remain%20%2F%20(%0A%20%20%20%20%20%20%20%201000))%0A%20%20%20%20remain%20%3D%20remain%20%25%20(1000)%0A%20%20%20%20let%20milliseconds%20%3D%20remain%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20hours%0A%20%20%20%20%20%20%20%20%2C%20minutes%0A%20%20%20%20%20%20%20%20%2C%20seconds%0A%20%20%20%20%20%20%20%20%2C%20milliseconds%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20formatTimeHMSS(o)%20%7B%0A%20%20%20%20let%20hours%20%3D%20o.hours.toString()%0A%20%20%20%20if%20(hours.length%20%3D%3D%3D%201)%20hours%20%3D%0A%20%20%20%20%20%20%20%20'0'%20%2B%20hours%0A%20%20%20%20let%20minutes%20%3D%20o.minutes.toString()%0A%20%20%20%20if%20(minutes.length%20%3D%3D%3D%201)%20minutes%20%3D%0A%20%20%20%20%20%20%20%20'0'%20%2B%20minutes%0A%20%20%20%20let%20seconds%20%3D%20o.seconds.toString()%0A%20%20%20%20if%20(seconds.length%20%3D%3D%3D%201)%20seconds%20%3D%0A%20%20%20%20%20%20%20%20'0'%20%2B%20seconds%0A%20%20%20%20let%20milliseconds%20%3D%20o.milliseconds%0A%20%20%20%20%20%20%20%20.toString()%0A%20%20%20%20if%20(milliseconds.length%20%3D%3D%3D%201)%0A%20%20%20%20%20%20%20%20milliseconds%20%3D%20'00'%20%2B%0A%20%20%20%20%20%20%20%20milliseconds%0A%20%20%20%20if%20(milliseconds.length%20%3D%3D%3D%202)%0A%20%20%20%20%20%20%20%20milliseconds%20%3D%20'0'%20%2B%0A%20%20%20%20%20%20%20%20milliseconds%0A%20%20%20%20return%20hours%20%2B%20%22%3A%22%20%2B%20minutes%20%2B%20%22%3A%22%20%2B%0A%20%20%20%20%20%20%20%20%2F%2FExample%3A%2000%3A01%3A02%2C999%20--%20note%20that%20the%20SRT%20spec%20calls%20for%20a%20comma%2C%20not%20a%20period!%0A%20%20%20%20%20%20%20%20seconds%20%2B%20%22%2C%22%20%2B%0A%20%20%20%20%20%20%20%20milliseconds%0A%7D%0A%0Afunction%20leftFillNum(num%2C%20targetLength)%20%7B%0A%20%20%20%20return%20num.toString()%0A%20%20%20%20%20%20%20%20.padStart(targetLength%2C%200)%3B%0A%7D%0A%0Avar%20SRT%20%3D%20parseSRT(array2srt(JSON.parse(localStorage%5B%0A%20%20%20%20%22clq%3Aorigination%3A%22%20%2B%20our_clq%5D)%5B%22events%22%5D))%3B%0Avar%20issues%20%3D%20%5B%5D%0A%0Afor%20(event%20of%20SRT)%20%7B%0A%20%20%20%20var%20start_frames%20%3D%20Math.round(event%5B%22start%22%5D%20*%20fps)%0A%20%20%20%20var%20end_frames%20%3D%20Math.round(event%5B%22end%22%5D%20*%20fps)%0A%20%20%20%20var%20start_tcf%20%3D%20frames2tcf(start_frames)%0A%20%20%20%20var%20end_tcf%20%3D%20frames2tcf(end_frames)%0A%20%20%20%20var%20id%20%3D%20event%5B%22id%22%5D%0A%20%20%20%20var%20_id%20%3D%20leftFillNum(id%2C%204)%0A%20%20%20%20var%20eventIssue%20%3D%20%5B%5D%0A%20%20%20%20var%20eventTxt%20%3D%20event%5B%22text%22%5D%0A%20%20%20%20eventTxt%20%3D%20eventTxt.replace(%2F(%3C(%5B%5E%3E%5D%2B)%3E)%2Fig%2C%20%22%22)%3B%0A%20%20%20%20eventTxt%20%3D%20eventTxt.replace(%2F%7B.an.%7D%2Fig%2C%20%22%22)%3B%0A%20%20%20%20if%20(eventTxt.indexOf(%22%5Cn%22)%20!%3D%3D%20-1%20%26%26%0A%20%20%20%20%20%20%20%20eventTxt.indexOf(%22%5Cn-%22)%20%3D%3D%20-1%20%26%26%0A%20%20%20%20%20%20%20%20eventTxt.replace(%22%5Cn%22%2C%20%22%20%22)%0A%20%20%20%20%20%20%20%20.length%20%3C%3D%20line_limit)%20%7B%0A%20%20%20%20%20%20%20%20eventIssue.push(%22Can%20fit%20on%20one%20line%22)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20(eventTxt.indexOf(%22...%22)%20!%3D%3D%20-1)%20%7B%0A%20%20%20%20%20%20%20%20eventIssue.push(%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Legacy%20ellipsis%20detected%3A%20replace%20...%20with%20%E2%80%A6%22)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20hasSpace%20%3D%20%2F%5Cs%24%7C%5E%5Cs%2F%3B%0A%20%20%20%20var%20eventTxt_lines%20%3D%20eventTxt.split(%22%5Cn%22)%3B%0A%20%20%20%20var%20nPos%20%3D%20eventTxt.lastIndexOf(%22%5Cn%22)%3B%0A%20%20%20%20var%20hasSpaceIssue%20%3D%20nPos%20%26%26%20(typeof%20eventTxt%5BnPos%20%2B%201%5D%20%3D%3D%0A%20%20%20%20%20%20%20%20%22undefined%22)%0A%20%20%20%20var%20overLineLimit%20%3D%20false%0A%20%20%20%20var%20hasDoubleSpace%20%3D%20eventTxt.replace(%22%5Cn%22%2C%20%22%22)%0A%20%20%20%20%20%20%20%20.split(%2F%5Cs%5Cs%2F)%0A%20%20%20%20%20%20%20%20.length%20-%201%0A%20%20%20%20var%20hasThreeLines%20%3D%20typeof%20eventTxt_lines%5B2%5D%20!%3D%3D%20%22undefined%22%0A%0A%20%20%20%20for%20(var%20line%20of%20eventTxt_lines)%20%7B%0A%20%20%20%20%20%20%20%20hasSpaceIssue%20%3D%20(hasSpace.test(line)%20%7C%7C%20hasSpaceIssue)%0A%20%20%20%20%20%20%20%20if%20(line.length%20%3E%20line_limit)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20overLineLimit%20%3D%20true%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20(hasDoubleSpace)%20%7B%0A%20%20%20%20%20%20%20%20eventIssue.push(%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Double%20spaces%20detected%2C%20replace%20with%20single%20space%22)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20(hasThreeLines)%20%7B%0A%20%20%20%20%20%20%20%20eventIssue.push(%22Three%20lines%20detected%20in%20this%20event%22)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20(hasSpaceIssue)%20%7B%0A%20%20%20%20%20%20%20%20if%20(eventTxt.length%20%3E%201)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20eventIssue.push(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22One%20of%20the%20lines%20begins%20or%20ends%20with%20whitespace%22)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20eventIssue.push(%22Empty%20event%20detected%22)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20(overLineLimit)%20%7B%0A%20%20%20%20%20%20%20%20eventIssue.push(%22Line%20over%20max%20limit%20of%20%22%20%2B%20line_limit)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20totalLength%20%3D%20eventTxt.length%0A%20%20%20%20var%20eventLines%20%3D%20eventTxt.split(%22%5Cn%22)%0A%20%20%20%20if%20(typeof%20eventIssue%20!%3D%3D%20%22undefined%22%20%26%26%20eventIssue.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20log_event%20%3D%20(start_tcf%20%2B%20%22%20%20%20%20%22%20%2B%20eventTxt_lines%5B0%5D.slice(0%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20line_limit)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.padEnd(line_limit%20%2B%204%2C%20%22%20%22)%20%2B%20_id)%0A%20%20%20%20%20%20%20%20%20%20%20%20.padEnd(line_limit%20%2B%2010%2C%20%22%20%22)%0A%20%20%20%20%20%20%20%20if%20(typeof%20eventTxt_lines%5B1%5D%20!%3D%3D%20%22undefined%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20log_event%20%2B%3D%20%22%5Cn%22%20%2B%20end_tcf%20%2B%20%22%20%20%20%20%22%20%2B%20eventTxt_lines%5B1%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.padEnd(line_limit%20%2B%208%2C%20%22%20%22)%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20log_event%20%2B%3D%20%22%5Cn%22%20%2B%20end_tcf%20%2B%20%22%20%20%20%20%20%20%22%20%2B%20%22%20%22.padEnd(line_limit%2B6%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%22)%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20console.log('%25c'%20%2B%20log_event%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20'background%3A%20%2312343b%3B%20color%3A%20%23e1b382')%0A%20%20%20%20%20%20%20%20%2F%2Fconsole.log((%2B_id%2B%22%5Cn%22%2Bstart_tcf%2B%22%5Cn%22%2Bend_tcf%2B%22%5Cn%22%2BeventTxt).padEnd(50)%2C%20'background%3A%20%23222%3B%20color%3A%20%23bada55')%3B%0A%20%20%20%20%20%20%20%20console.log(('%25c'%20%2B%20eventIssue.join(%22%5Cn%22))%0A%20%20%20%20%20%20%20%20%20%20%20%20.padEnd(50)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20'background%3A%20%23FFF%3B%20color%3A%20%23FF0000%3B%20font-style%3A%20italic%3B%20border%3Asolid%201px%20%23000%3B'%0A%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20console.log(%22%E2%94%89%22.repeat(63))%0A%0A%20%20%20%20%20%20%20%20issue%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20id%0A%20%20%20%20%20%20%20%20%20%20%20%20%2C%20issues%3A%20eventIssue%0A%20%20%20%20%20%20%20%20%20%20%20%20%2C%20content%3A%20eventTxt%0A%20%20%20%20%20%20%20%20%20%20%20%20%2C%20start_tcf%3A%20start_tcf%0A%20%20%20%20%20%20%20%20%20%20%20%20%2C%20end_tcf%3A%20end_tcf%0A%20%20%20%20%20%20%20%20%20%20%20%20%2C%20start_frames%3A%20start_frames%0A%20%20%20%20%20%20%20%20%20%20%20%20%2C%20end_frames%3A%20end_frames%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20issues.push(issue)%0A%0A%20%20%20%20%7D%0A%7D%7D)()%3B">AutoQC 39</a>(RU)
<a class="btn btn-blue" href="javascript:(function()%7B(function%20(global%2C%20factory)%20%7B%0A%20%20%20%20typeof%20exports%20%3D%3D%3D%20'object'%20%26%26%20typeof%20module%20!%3D%3D%20'undefined'%20%3F%0A%20%20%20%20%20%20%20%20module.exports%20%3D%20factory()%20%3A%0A%20%20%20%20%20%20%20%20typeof%20define%20%3D%3D%3D%20'function'%20%26%26%20define.amd%20%3F%20define(%0A%20%20%20%20%20%20%20%20%20%20%20%20factory)%20%3A%0A%20%20%20%20%20%20%20%20(global.parseSRT%20%3D%20factory())%3B%0A%7D(this%2C%20(function%20()%20%7B%0A%20%20%20%20'use%20strict'%3B%0A%0A%20%20%20%20function%20toSeconds(time)%20%7B%0A%20%20%20%20%20%20%20%20var%20t%20%3D%20time.split('%3A')%3B%0A%0A%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20s%20%3D%20t%5B2%5D.split('%2C')%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(s.length%20%3D%3D%3D%201)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20s%20%3D%20t%5B2%5D.split('.')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20parseFloat(t%5B0%5D%2C%2010)%20*%203600%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20parseFloat(t%5B1%5D%2C%2010)%20*%2060%20%2B%20parseFloat(s%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%200%5D%2C%2010)%20%2B%20parseFloat(s%5B1%5D%2C%2010)%20%2F%201000%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20catch%20(e)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%200%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20nextNonEmptyLine(linesArray%2C%20position)%20%7B%0A%20%20%20%20%20%20%20%20var%20idx%20%3D%20position%3B%0A%0A%20%20%20%20%20%20%20%20while%20(!linesArray%5Bidx%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20idx%2B%2B%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20return%20idx%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20lastNonEmptyLine(linesArray)%20%7B%0A%20%20%20%20%20%20%20%20var%20idx%20%3D%20linesArray.length%20-%201%3B%0A%0A%20%20%20%20%20%20%20%20while%20(idx%20%3E%3D%200%20%26%26%20!linesArray%5Bidx%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20idx--%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20return%20idx%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20parseSRT()%20%7B%0A%20%20%20%20%20%20%20%20var%20data%20%3D%20arguments.length%20%3E%200%20%26%26%20arguments%5B%0A%20%20%20%20%20%20%20%20%20%20%20%200%5D%20!%3D%3D%20undefined%20%3F%20arguments%5B0%5D%20%3A%20''%3B%0A%0A%20%20%20%20%20%20%20%20var%20subs%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20var%20lines%20%3D%20data.split(%2F(%3F%3A%5Cr%5Cn%7C%5Cr%7C%5Cn)%2Fgm)%3B%0A%20%20%20%20%20%20%20%20var%20endIdx%20%3D%20lastNonEmptyLine(lines)%20%2B%201%3B%0A%20%20%20%20%20%20%20%20var%20idx%20%3D%200%3B%0A%20%20%20%20%20%20%20%20var%20time%20%3D%20void%200%3B%0A%20%20%20%20%20%20%20%20var%20text%20%3D%20void%200%3B%0A%20%20%20%20%20%20%20%20var%20sub%20%3D%20void%200%3B%0A%0A%20%20%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20endIdx%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20sub%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20text%20%3D%20%5B%5D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20i%20%3D%20nextNonEmptyLine(lines%2C%20i)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20sub.id%20%3D%20parseInt(lines%5Bi%2B%2B%5D%2C%2010)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20time%20%3D%20lines%5Bi%2B%2B%5D.split(%2F%5B%5Ct%20%5D*--%3E%5B%5Ct%20%5D*%2F)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20sub.start%20%3D%20toSeconds(time%5B0%5D)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20idx%20%3D%20time%5B1%5D.indexOf('%20')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(idx%20!%3D%3D%20-1)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20time%5B1%5D%20%3D%20time%5B1%5D.substr(0%2C%20idx)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20sub.end%20%3D%20toSeconds(time%5B1%5D)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20while%20(i%20%3C%20endIdx%20%26%26%20lines%5Bi%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text.push(lines%5Bi%2B%2B%5D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20sub.text%20%3D%20text.join('%5C%5CN')%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.replace(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%5C%7B(%5C%5C%5B%5Cw%5D%2B%5C(%3F(%5B%5Cw%5Cd%5D%2B%2C%3F)%2B%5C)%3F)%2B%5C%7D%2Fgi%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'')%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20sub.text%20%3D%20sub.text.replace(%2F%3C%2Fg%2C%20'%26lt%3B')%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.replace(%2F%3E%2Fg%2C%20'%26gt%3B')%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20sub.text%20%3D%20sub.text.replace(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%26lt%3B(%5C%2F%3F(font%7Cb%7Cu%7Ci%7Cs))((%5Cs%2B(%5Cw%7C%5Cw%5B%5Cw%5C-%5D*%5Cw)(%5Cs*%3D%5Cs*(%3F%3A%22.*%3F%22%7C'.*%3F'%7C%5B%5E'%22%3E%5Cs%5D%2B))%3F)%2B%5Cs*%7C%5Cs*)(%5C%2F%3F)%26gt%3B%2Fgi%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'%3C%241%243%247%3E')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20sub.text%20%3D%20sub.text.replace(%2F%5C%5CN%2Fgi%2C%20%22%5Cn%22)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20subs.push(sub)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20return%20subs%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20parseSRT%3B%0A%0A%7D)))%3B%0A%0Avar%20our_clq%20%3D%20document.location.href.toString()%0A%20%20%20%20.split(%22%3D%22)%5B1%5D.split(%22%3A%22)%5B2%5D%0Avar%20clq_pattern%20%3D%20new%20RegExp(%0A%20%20%20%20'%5E%5B0-9a-f%5D%7B8%7D-%5B0-9a-f%5D%7B4%7D-%5B1-5%5D%5B0-9a-f%5D%7B3%7D-%5B89ab%5D%5B0-9a-f%5D%7B3%7D-%5B0-9a-f%5D%7B12%7D%24'%2C%0A%20%20%20%20'i')%3B%0A%0Aif%20(!our_clq%20%7C%7C%20!clq_pattern.test(our_clq))%20%7B%0A%20%20%20%20alert(%22You%20must%20be%20in%20an%20Originator%20task!%22)%3B%0A%20%20%20%20throw%20new%20Error%0A%7D%0A%0Aif%20(!clq_pattern.test(our_clq))%20%7B%0A%20%20%20%20alert(%22The%20CLQ%20is%20invalid%3A%20%22%20%2B%20our_clq%20%2B%20%22%5Cn%22%20%2B%0A%20%20%20%20%20%20%20%20%22Please%20report%20me%20to%20the%20developer.%22)%3B%0A%20%20%20%20throw%20new%20Error%0A%7D%0A%0Avar%20lsJson%20%3D%20localStorage%5B%22clq%3Aorigination%3A%22%20%2B%20our_clq%5D%0Aif%20(!lsJson)%20%7B%0A%20%20%20%20alert(%22Timed%20text%20events%20not%20found%20in%20localStorage%5Cnfor%20CLQ%3A%20%22%20%2B%0A%20%20%20%20%20%20%20%20our_clq%20%2B%20%22%5Cn%22%20%2B%20%22If%20the%20CLQ%20is%20correct%20and%22%20%2B%20%22%5Cn%22%20%2B%0A%20%20%20%20%20%20%20%20%22%5C%22Save%20to%20local%20storage%5C%22%20is%20enabled%20in%20Settings%2C%22%20%2B%0A%20%20%20%20%20%20%20%20%22%5Cn%22%20%2B%20%22save%20the%20task%20and%20try%20again.%22)%3B%0A%20%20%20%20throw%20new%20Error%0A%7D%0A%0Avar%20json_obj%20%3D%20JSON.parse(lsJson)%0Avar%20src%20%3D%20json_obj%5B%22events%22%5D%0Avar%20fps_%20%3D%20json_obj%5B%22meta%22%5D%5B%22fps%22%5D%3B%0Avar%20fps%20%3D%20fps_.split(%22_%22)%5B1%5D%20%2F%20100%0A%2F%2FFrom%20%7B%22fps%22%3A%22FPS_2500%22%7D%0A%2F%2Fvar%20proposed_fps%20%3D%20prompt(%22Framerate%20set%20to%3A%20%22%20%2B%20fps%20%2B%20%22%20fps.%5Cn%5CnEnter%20new%20value%20like%202997%2C%202500%20or%2023976023976023978%3A%22)%3B%0Atry%20%7B%0A%20%20%20%20if%20(proposed_fps)%20%7B%0A%20%20%20%20%20%20%20%20var%20int_fps%20%3D%20proposed_fps.substring(0%2C%202)%3B%0A%20%20%20%20%20%20%20%20var%20decimal_fps%20%3D%20proposed_fps.substring(2%2C%20proposed_fps%0A%20%20%20%20%20%20%20%20%20%20%20%20.length)%3B%0A%20%20%20%20%20%20%20%20fps_%20%3D%20%22FPS%22%20%2B%20%22_%22%20%2B%20int_fps%20%2B%20decimal_fps%0A%20%20%20%20%20%20%20%20fps%20%3D%20(int_fps%20%2B%20%22.%22%20%2B%20decimal_fps)%20*%201%3B%0A%20%20%20%20%7D%0A%7D%0Acatch%20(e)%20%7B%7D%0A%0Avar%20frms%20%3D%201000%20%2F%20fps%0Avar%20line_limit%20%3D%2016%0A%0Afunction%20srtName(suffix%20%3D%20%22%22)%20%7B%0A%20%20%20%20var%20s%20%3D%20document%0A%20%20%20%20%20%20%20%20.getElementsByClassName(%0A%20%20%20%20%20%20%20%20%20%20%20%20%22cpe-page-menu-label%22)%5B0%5D%0A%20%20%20%20%20%20%20%20.innerText%0A%20%20%20%20var%20srtName%20%3D%20(s.replace(%2F%5B%20%5D%2Fg%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2C%20'_')%0A%20%20%20%20%20%20%20%20%20%20%20%20.replace(%2F%5B%5Ea-z0-9_%5D%2Fgi%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2C%20'')%20%2B%20%22_%22%20%2B%20suffix%20%2B%20%22.srt%22%0A%20%20%20%20%20%20%20%20)%20%2F%2FThis%20gets%20rid%20of%20all%20punctuation%2C%20spaces%20and%20non-English%20letters%0A%20%20%20%20%20%20%20%20.trim()%20%2F%2Fresulting%20in%20a%20name%20like%2014545_El_Burrito_A_Breaking_Fat_Movie_FPS_2500.srt%0A%20%20%20%20if%20(!srtName)%20srtName%20%3D%20our_clq%20%2B%0A%20%20%20%20%20%20%20%20%22_%22%20%2B%20suffix%20%2B%0A%20%20%20%20%20%20%20%20%22.srt%22%20%2F%2FFallback%20measure.%20Useful%20for%20debugging%20later%0A%20%20%20%20return%20srtName%0A%7D%0A%0Afunction%20frames2tcf(framenumber%2C%20framerate%20%3D%0Afps)%20%7B%20%2F%2Fframes%20to%2000%3A01%3A02%3A24%20format%0A%20%20%20%20var%20seconds_float%20%3D%20framenumber%20%2F%20framerate%0A%20%20%20%20var%20seconds_int%20%3D%20Math.floor(seconds_float)%0A%20%20%20%20var%20seconds_frac%20%3D%20seconds_float%20-%20seconds_int%0A%20%20%20%20var%20frames%20%3D%20Math.round(seconds_frac%20*%20framerate)%20%2B%20''%0A%20%20%20%20var%20date%20%3D%20new%20Date(0)%3B%0A%20%20%20%20date.setSeconds(seconds_int)%3B%0A%20%20%20%20var%20timeString%20%3D%20date.toISOString()%0A%20%20%20%20%20%20%20%20.substr(11%2C%208)%0A%20%20%20%20if%20(frames.length%20%3D%3D%201)%20frames%20%3D%20%220%22%20%2B%20frames%0A%20%20%20%20var%20timecodef%20%3D%20timeString%20%2B%20%22%3A%22%20%2B%20frames%0A%20%20%20%20return%20timecodef%0A%7D%0A%0Afunction%20frames2timecode(frames)%20%7B%20%2F%2Fframes%20to%2000%3A01%3A02%2C000%20format%0A%20%20%20%20var%20milliseconds%20%3D%20Math.round(%0A%20%20%20%20%20%20%20%20frames%20*%20frms)%0A%20%20%20%20var%20srt_timecode%20%3D%20TimeConversion(%0A%20%20%20%20%20%20%20%20milliseconds)%0A%20%20%20%20return%20srt_timecode%0A%7D%0A%0Afunction%20array2srt(events_object)%20%7B%0A%20%20%20%20var%20ordered_events%20%3D%20%5B%5D%0A%20%20%20%20for%20(var%20id%20in%20events_object)%20%7B%0A%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20type_fn%20%3D%20events_object%5Bid%5D%5B%22type%22%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(type_fn%20%3D%3D%3D%20%22fn%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20events_object%5Bid%5D%5B%22txt%22%5D%20%2B%3D%20%22%3Cb%3E%3C%2Fb%3E%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type_fn%20%3D%20undefined%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20delete(type_fn)%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20catch%20(e)%20%7B%7D%0A%20%20%20%20%20%20%20%20ordered_events.push(%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20events_object%5Bid%5D%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22start%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%2C%20events_object%5Bid%5D%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22end%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%20events_object%5Bid%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5B%22txt%22%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%2C%20events_object%5Bid%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5B%22styles%22%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%2C%20events_object%5Bid%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5B%22rgn%22%5D%0A%20%20%20%20%20%20%20%20%5D)%0A%20%20%20%20%7D%0A%20%20%20%20ordered_events.sort(function%20(a%0A%20%20%20%20%20%20%20%20%2C%20b)%20%7B%0A%20%20%20%20%20%20%20%20return%20a%5B0%5D%20-%20b%5B0%5D%3B%0A%20%20%20%20%7D)%3B%20%2F%2FArray%20sorted%20by%20in_cues%2C%20sequentially%0A%20%20%20%20var%20index%20%3D%200%0A%20%20%20%20var%20srt_txt%20%3D%20''%0A%20%20%20%20for%20(event%20of%20ordered_events)%20%7B%0A%20%20%20%20%20%20%20%20index%2B%2B%0A%20%20%20%20%20%20%20%20var%20start%20%3D%20frames2timecode(%0A%20%20%20%20%20%20%20%20%20%20%20%20event%5B0%5D)%0A%20%20%20%20%20%20%20%20var%20end%20%3D%20frames2timecode(event%5B%0A%20%20%20%20%20%20%20%20%20%20%20%201%5D)%0A%20%20%20%20%20%20%20%20var%20content%20%3D%20event%5B2%5D%0A%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(typeof%20event%5B3%5D%5B0%5D%5B%22type%22%5D%20!%3D%3D%20%22undefined%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(event%5B3%5D%5B0%5D%5B%22type%22%5D%20%3D%3D%20%22italic%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20content%20%3D%20italicize(content%2C%20event%5B3%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20catch%20(e)%20%7B%7D%0A%0A%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(typeof%20event%5B4%5D%20!%3D%3D%20%22undefined%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(event%5B4%5D%20%3D%3D%20%22top%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20content%20%3D%20%22%7B%5C%5Can8%7D%22%20%2B%20content%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20catch%20(e)%20%7B%7D%0A%0A%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(event%5B%22type%22%5D%20%3D%3D%20%22fn%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20content%20%2B%3D%20'%3Cb%3E%3C%2Fb%3E'%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20catch%20(e)%20%7B%7D%0A%20%20%20%20%20%20%20%20console.log(content)%0A%20%20%20%20%20%20%20%20var%20current_event%20%3D%20index%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22%5Cn%22%20%2B%20start%20%2B%20%22%20--%3E%20%22%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20end%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22%5Cn%22%20%2B%20content%20%2B%20%22%5Cn%22%0A%20%20%20%20%20%20%20%20srt_txt%20%2B%3D%20current_event%20%2B%20%22%5Cn%22%0A%20%20%20%20%7D%0A%20%20%20%20return%20srt_txt%0A%7D%0A%0Afunction%20italicize(content%2C%20italics_array)%20%7B%0A%20%20%20%20position_offset%20%3D%200%0A%20%20%20%20for%20(var%20italic%20of%20italics_array)%20%7B%0A%20%20%20%20%20%20%20%20var%20position_from%20%3D%20italic%5B%22from%22%5D%20%2B%20position_offset%3B%0A%20%20%20%20%20%20%20%20position_offset%20%2B%3D%203%0A%20%20%20%20%20%20%20%20content%20%3D%20%5Bcontent.slice(0%2C%20position_from)%2C%20%22%3Ci%3E%22%2C%20content%0A%20%20%20%20%20%20%20%20%20%20%20%20.slice(position_from)%0A%20%20%20%20%20%20%20%20%5D.join('')%0A%20%20%20%20%20%20%20%20var%20position_to%20%3D%20italic%5B%22to%22%5D%20%2B%20position_offset%3B%0A%20%20%20%20%20%20%20%20position_offset%20%2B%3D%204%0A%20%20%20%20%20%20%20%20content%20%3D%20%5Bcontent.slice(0%2C%20position_to)%2C%20%22%3C%2Fi%3E%22%2C%20content%0A%20%20%20%20%20%20%20%20%20%20%20%20.slice(position_to)%0A%20%20%20%20%20%20%20%20%5D.join('')%0A%20%20%20%20%7D%0A%20%20%20%20return%20content%0A%7D%0A%0Afunction%20download(filename%2C%20text)%20%7B%0A%20%20%20%20var%20element%20%3D%20document%0A%20%20%20%20%20%20%20%20.createElement('a')%3B%0A%20%20%20%20element.setAttribute('href'%0A%20%20%20%20%20%20%20%20%2C%20'data%3Atext%2Fplain%3Bcharset%3Dutf-8%2C'%20%2B%0A%20%20%20%20%20%20%20%20encodeURIComponent(text))%3B%0A%20%20%20%20element.setAttribute('download'%0A%20%20%20%20%20%20%20%20%2C%20filename)%3B%0A%20%20%20%20element.style.display%20%3D%20'none'%3B%0A%20%20%20%20document.body.appendChild(element)%3B%0A%20%20%20%20element.click()%3B%0A%20%20%20%20document.body.removeChild(element)%3B%0A%7D%0A%0Afunction%20TimeConversion(duration)%20%7B%0A%20%20%20%20let%20time%20%3D%20parseDuration(duration)%0A%20%20%20%20return%20formatTimeHMSS(time)%0A%7D%0A%0Afunction%20parseDuration(duration)%20%7B%0A%20%20%20%20let%20remain%20%3D%20duration%0A%20%20%20%20let%20hours%20%3D%20Math.floor(remain%20%2F%20(%0A%20%20%20%20%20%20%20%201000%20*%2060%20*%2060))%0A%20%20%20%20remain%20%3D%20remain%20%25%20(1000%20*%2060%20*%2060)%0A%20%20%20%20let%20minutes%20%3D%20Math.floor(remain%20%2F%20(%0A%20%20%20%20%20%20%20%201000%20*%2060))%0A%20%20%20%20remain%20%3D%20remain%20%25%20(1000%20*%2060)%0A%20%20%20%20let%20seconds%20%3D%20Math.floor(remain%20%2F%20(%0A%20%20%20%20%20%20%20%201000))%0A%20%20%20%20remain%20%3D%20remain%20%25%20(1000)%0A%20%20%20%20let%20milliseconds%20%3D%20remain%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20hours%0A%20%20%20%20%20%20%20%20%2C%20minutes%0A%20%20%20%20%20%20%20%20%2C%20seconds%0A%20%20%20%20%20%20%20%20%2C%20milliseconds%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20formatTimeHMSS(o)%20%7B%0A%20%20%20%20let%20hours%20%3D%20o.hours.toString()%0A%20%20%20%20if%20(hours.length%20%3D%3D%3D%201)%20hours%20%3D%0A%20%20%20%20%20%20%20%20'0'%20%2B%20hours%0A%20%20%20%20let%20minutes%20%3D%20o.minutes.toString()%0A%20%20%20%20if%20(minutes.length%20%3D%3D%3D%201)%20minutes%20%3D%0A%20%20%20%20%20%20%20%20'0'%20%2B%20minutes%0A%20%20%20%20let%20seconds%20%3D%20o.seconds.toString()%0A%20%20%20%20if%20(seconds.length%20%3D%3D%3D%201)%20seconds%20%3D%0A%20%20%20%20%20%20%20%20'0'%20%2B%20seconds%0A%20%20%20%20let%20milliseconds%20%3D%20o.milliseconds%0A%20%20%20%20%20%20%20%20.toString()%0A%20%20%20%20if%20(milliseconds.length%20%3D%3D%3D%201)%0A%20%20%20%20%20%20%20%20milliseconds%20%3D%20'00'%20%2B%0A%20%20%20%20%20%20%20%20milliseconds%0A%20%20%20%20if%20(milliseconds.length%20%3D%3D%3D%202)%0A%20%20%20%20%20%20%20%20milliseconds%20%3D%20'0'%20%2B%0A%20%20%20%20%20%20%20%20milliseconds%0A%20%20%20%20return%20hours%20%2B%20%22%3A%22%20%2B%20minutes%20%2B%20%22%3A%22%20%2B%0A%20%20%20%20%20%20%20%20%2F%2FExample%3A%2000%3A01%3A02%2C999%20--%20note%20that%20the%20SRT%20spec%20calls%20for%20a%20comma%2C%20not%20a%20period!%0A%20%20%20%20%20%20%20%20seconds%20%2B%20%22%2C%22%20%2B%0A%20%20%20%20%20%20%20%20milliseconds%0A%7D%0A%0Afunction%20leftFillNum(num%2C%20targetLength)%20%7B%0A%20%20%20%20return%20num.toString()%0A%20%20%20%20%20%20%20%20.padStart(targetLength%2C%200)%3B%0A%7D%0A%0Avar%20SRT%20%3D%20parseSRT(array2srt(JSON.parse(localStorage%5B%0A%20%20%20%20%22clq%3Aorigination%3A%22%20%2B%20our_clq%5D)%5B%22events%22%5D))%3B%0Avar%20issues%20%3D%20%5B%5D%0A%0Afor%20(event%20of%20SRT)%20%7B%0A%20%20%20%20var%20start_frames%20%3D%20Math.round(event%5B%22start%22%5D%20*%20fps)%0A%20%20%20%20var%20end_frames%20%3D%20Math.round(event%5B%22end%22%5D%20*%20fps)%0A%20%20%20%20var%20start_tcf%20%3D%20frames2tcf(start_frames)%0A%20%20%20%20var%20end_tcf%20%3D%20frames2tcf(end_frames)%0A%20%20%20%20var%20id%20%3D%20event%5B%22id%22%5D%0A%20%20%20%20var%20_id%20%3D%20leftFillNum(id%2C%204)%0A%20%20%20%20var%20eventIssue%20%3D%20%5B%5D%0A%20%20%20%20var%20eventTxt%20%3D%20event%5B%22text%22%5D%0A%20%20%20%20eventTxt%20%3D%20eventTxt.replace(%2F(%3C(%5B%5E%3E%5D%2B)%3E)%2Fig%2C%20%22%22)%3B%0A%20%20%20%20eventTxt%20%3D%20eventTxt.replace(%2F%7B.an.%7D%2Fig%2C%20%22%22)%3B%0A%20%20%20%20if%20(eventTxt.indexOf(%22%5Cn%22)%20!%3D%3D%20-1%20%26%26%0A%20%20%20%20%20%20%20%20eventTxt.indexOf(%22%5Cn-%22)%20%3D%3D%20-1%20%26%26%0A%20%20%20%20%20%20%20%20eventTxt.replace(%22%5Cn%22%2C%20%22%20%22)%0A%20%20%20%20%20%20%20%20.length%20%3C%3D%20line_limit)%20%7B%0A%20%20%20%20%20%20%20%20eventIssue.push(%22Can%20fit%20on%20one%20line%22)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20(eventTxt.indexOf(%22...%22)%20!%3D%3D%20-1)%20%7B%0A%20%20%20%20%20%20%20%20eventIssue.push(%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Legacy%20ellipsis%20detected%3A%20replace%20...%20with%20%E2%80%A6%22)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20hasSpace%20%3D%20%2F%5Cs%24%7C%5E%5Cs%2F%3B%0A%20%20%20%20var%20eventTxt_lines%20%3D%20eventTxt.split(%22%5Cn%22)%3B%0A%20%20%20%20var%20nPos%20%3D%20eventTxt.lastIndexOf(%22%5Cn%22)%3B%0A%20%20%20%20var%20hasSpaceIssue%20%3D%20nPos%20%26%26%20(typeof%20eventTxt%5BnPos%20%2B%201%5D%20%3D%3D%0A%20%20%20%20%20%20%20%20%22undefined%22)%0A%20%20%20%20var%20overLineLimit%20%3D%20false%0A%20%20%20%20var%20hasDoubleSpace%20%3D%20eventTxt.replace(%22%5Cn%22%2C%20%22%22)%0A%20%20%20%20%20%20%20%20.split(%2F%5Cs%5Cs%2F)%0A%20%20%20%20%20%20%20%20.length%20-%201%0A%20%20%20%20var%20hasThreeLines%20%3D%20typeof%20eventTxt_lines%5B2%5D%20!%3D%3D%20%22undefined%22%0A%0A%20%20%20%20for%20(var%20line%20of%20eventTxt_lines)%20%7B%0A%20%20%20%20%20%20%20%20hasSpaceIssue%20%3D%20(hasSpace.test(line)%20%7C%7C%20hasSpaceIssue)%0A%20%20%20%20%20%20%20%20if%20(line.length%20%3E%20line_limit)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20overLineLimit%20%3D%20true%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20(hasDoubleSpace)%20%7B%0A%20%20%20%20%20%20%20%20eventIssue.push(%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Double%20spaces%20detected%2C%20replace%20with%20single%20space%22)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20(hasThreeLines)%20%7B%0A%20%20%20%20%20%20%20%20eventIssue.push(%22Three%20lines%20detected%20in%20this%20event%22)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20(hasSpaceIssue)%20%7B%0A%20%20%20%20%20%20%20%20if%20(eventTxt.length%20%3E%201)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20eventIssue.push(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22One%20of%20the%20lines%20begins%20or%20ends%20with%20whitespace%22)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20eventIssue.push(%22Empty%20event%20detected%22)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20(overLineLimit)%20%7B%0A%20%20%20%20%20%20%20%20eventIssue.push(%22Line%20over%20max%20limit%20of%20%22%20%2B%20line_limit)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20totalLength%20%3D%20eventTxt.length%0A%20%20%20%20var%20eventLines%20%3D%20eventTxt.split(%22%5Cn%22)%0A%20%20%20%20if%20(typeof%20eventIssue%20!%3D%3D%20%22undefined%22%20%26%26%20eventIssue.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20log_event%20%3D%20(start_tcf%20%2B%20%22%20%20%20%20%22%20%2B%20eventTxt_lines%5B0%5D.slice(0%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20line_limit)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.padEnd(line_limit%20%2B%204%2C%20%22%20%22)%20%2B%20_id)%0A%20%20%20%20%20%20%20%20%20%20%20%20.padEnd(line_limit%20%2B%2010%2C%20%22%20%22)%0A%20%20%20%20%20%20%20%20if%20(typeof%20eventTxt_lines%5B1%5D%20!%3D%3D%20%22undefined%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20log_event%20%2B%3D%20%22%5Cn%22%20%2B%20end_tcf%20%2B%20%22%20%20%20%20%22%20%2B%20eventTxt_lines%5B1%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.padEnd(line_limit%20%2B%208%2C%20%22%20%22)%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20log_event%20%2B%3D%20%22%5Cn%22%20%2B%20end_tcf%20%2B%20%22%20%20%20%20%20%20%22%20%2B%20%22%20%22.padEnd(line_limit%2B6%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%22)%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20console.log('%25c'%20%2B%20log_event%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20'background%3A%20%2312343b%3B%20color%3A%20%23e1b382')%0A%20%20%20%20%20%20%20%20%2F%2Fconsole.log((%2B_id%2B%22%5Cn%22%2Bstart_tcf%2B%22%5Cn%22%2Bend_tcf%2B%22%5Cn%22%2BeventTxt).padEnd(50)%2C%20'background%3A%20%23222%3B%20color%3A%20%23bada55')%3B%0A%20%20%20%20%20%20%20%20console.log(('%25c'%20%2B%20eventIssue.join(%22%5Cn%22))%0A%20%20%20%20%20%20%20%20%20%20%20%20.padEnd(50)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20'background%3A%20%23FFF%3B%20color%3A%20%23FF0000%3B%20font-style%3A%20italic%3B%20border%3Asolid%201px%20%23000%3B'%0A%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20console.log(%22%E2%94%89%22.repeat(63))%0A%0A%20%20%20%20%20%20%20%20issue%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20id%0A%20%20%20%20%20%20%20%20%20%20%20%20%2C%20issues%3A%20eventIssue%0A%20%20%20%20%20%20%20%20%20%20%20%20%2C%20content%3A%20eventTxt%0A%20%20%20%20%20%20%20%20%20%20%20%20%2C%20start_tcf%3A%20start_tcf%0A%20%20%20%20%20%20%20%20%20%20%20%20%2C%20end_tcf%3A%20end_tcf%0A%20%20%20%20%20%20%20%20%20%20%20%20%2C%20start_frames%3A%20start_frames%0A%20%20%20%20%20%20%20%20%20%20%20%20%2C%20end_frames%3A%20end_frames%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20issues.push(issue)%0A%0A%20%20%20%20%7D%0A%7D%7D)()%3B">AutoQC 16</a>(CN)<br><font color="gray">outputs to Console (press F12)</font>
	<left><h5>Check out <a href="./ImportSRT.html">Import SRT</a> and <a href="./ExportSRT.html">ExportSRT</a></h5></left></font>
</center>
<pre><code>
/*
	USAGE
Drag one of the buttons above to your Bookmarks Bar in Chrome.
Click the button when in an Originator task.
Press F12 and go to Console to view AutoQC report.
Send suggestions, report issues :)

IMPORTANT: If AutoQC doesn't work, make sure "Save to local storage"
is ticked off in your Account Settings and make the task save,
then try again.

Coming soon:
- Better HTML-formatted output that opens in another tab
- Shot change validations

(c) Dan Biktashev katzurki@gmail.com
June 6 2020
*/

(function (global, factory) {
    typeof exports === 'object' &amp;&amp; typeof module !== 'undefined' ?
        module.exports = factory() :
        typeof define === 'function' &amp;&amp; define.amd ? define(
            factory) :
        (global.parseSRT = factory());
}(this, (function () {
    'use strict';

    function toSeconds(time) {
        var t = time.split(':');

        try {
            var s = t[2].split(',');

            if (s.length === 1) {
                s = t[2].split('.');
            }

            return parseFloat(t[0], 10) * 3600 +
                parseFloat(t[1], 10) * 60 + parseFloat(s[
                    0], 10) + parseFloat(s[1], 10) / 1000;
        }
        catch (e) {
            return 0;
        }
    }

    function nextNonEmptyLine(linesArray, position) {
        var idx = position;

        while (!linesArray[idx]) {
            idx++;
        }

        return idx;
    }

    function lastNonEmptyLine(linesArray) {
        var idx = linesArray.length - 1;

        while (idx &gt;= 0 &amp;&amp; !linesArray[idx]) {
            idx--;
        }

        return idx;
    }

    function parseSRT() {
        var data = arguments.length &gt; 0 &amp;&amp; arguments[
            0] !== undefined ? arguments[0] : '';

        var subs = [];
        var lines = data.split(/(?:\r\n|\r|\n)/gm);
        var endIdx = lastNonEmptyLine(lines) + 1;
        var idx = 0;
        var time = void 0;
        var text = void 0;
        var sub = void 0;

        for (var i = 0; i &lt; endIdx; i++) {
            sub = {};
            text = [];

            i = nextNonEmptyLine(lines, i);
            sub.id = parseInt(lines[i++], 10);

            time = lines[i++].split(/[\t ]*--&gt;[\t ]*/);

            sub.start = toSeconds(time[0]);

            idx = time[1].indexOf(' ');
            if (idx !== -1) {
                time[1] = time[1].substr(0, idx);
            }
            sub.end = toSeconds(time[1]);

            while (i &lt; endIdx &amp;&amp; lines[i]) {
                text.push(lines[i++]);
            }

            sub.text = text.join('\\N')
                .replace(
                    /\{(\\[\w]+\(?([\w\d]+,?)+\)?)+\}/gi,
                    '');

            sub.text = sub.text.replace(/&lt;/g, '&amp;lt;')
                .replace(/&gt;/g, '&amp;gt;');

            sub.text = sub.text.replace(
                /&amp;lt;(\/?(font|b|u|i|s))((\s+(\w|\w[\w\-]*\w)(\s*=\s*(?:&quot;.*?&quot;|'.*?'|[^'&quot;&gt;\s]+))?)+\s*|\s*)(\/?)&amp;gt;/gi,
                '&lt;$1$3$7&gt;');
            sub.text = sub.text.replace(/\\N/gi, &quot;\n&quot;);

            subs.push(sub);
        }

        return subs;
    }

    return parseSRT;

})));

var our_clq = document.location.href.toString()
    .split(&quot;=&quot;)[1].split(&quot;:&quot;)[2]
var clq_pattern = new RegExp(
    '^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$',
    'i');

if (!our_clq || !clq_pattern.test(our_clq)) {
    alert(&quot;You must be in an Originator task!&quot;);
    throw new Error
}

if (!clq_pattern.test(our_clq)) {
    alert(&quot;The CLQ is invalid: &quot; + our_clq + &quot;\n&quot; +
        &quot;Please report me to the developer.&quot;);
    throw new Error
}

var lsJson = localStorage[&quot;clq:origination:&quot; + our_clq]
if (!lsJson) {
    alert(&quot;Timed text events not found in localStorage\nfor CLQ: &quot; +
        our_clq + &quot;\n&quot; + &quot;If the CLQ is correct and&quot; + &quot;\n&quot; +
        &quot;\&quot;Save to local storage\&quot; is enabled in Settings,&quot; +
        &quot;\n&quot; + &quot;save the task and try again.&quot;);
    throw new Error
}

var json_obj = JSON.parse(lsJson)
var src = json_obj[&quot;events&quot;]
var fps_ = json_obj[&quot;meta&quot;][&quot;fps&quot;];
var fps = fps_.split(&quot;_&quot;)[1] / 100
//From {&quot;fps&quot;:&quot;FPS_2500&quot;}
//var proposed_fps = prompt(&quot;Framerate set to: &quot; + fps + &quot; fps.\n\nEnter new value like 2997, 2500 or 23976023976023978:&quot;);
try {
    if (proposed_fps) {
        var int_fps = proposed_fps.substring(0, 2);
        var decimal_fps = proposed_fps.substring(2, proposed_fps
            .length);
        fps_ = &quot;FPS&quot; + &quot;_&quot; + int_fps + decimal_fps
        fps = (int_fps + &quot;.&quot; + decimal_fps) * 1;
    }
}
catch (e) {}

var frms = 1000 / fps
var line_limit = 42

function srtName(suffix = &quot;&quot;) {
    var s = document
        .getElementsByClassName(
            &quot;cpe-page-menu-label&quot;)[0]
        .innerText
    var srtName = (s.replace(/[ ]/g
                , '_')
            .replace(/[^a-z0-9_]/gi
                , '') + &quot;_&quot; + suffix + &quot;.srt&quot;
        ) //This gets rid of all punctuation, spaces and non-English letters
        .trim() //resulting in a name like 14545_El_Burrito_A_Breaking_Fat_Movie_FPS_2500.srt
    if (!srtName) srtName = our_clq +
        &quot;_&quot; + suffix +
        &quot;.srt&quot; //Fallback measure. Useful for debugging later
    return srtName
}

function frames2tcf(framenumber, framerate =
fps) { //frames to 00:01:02:24 format
    var seconds_float = framenumber / framerate
    var seconds_int = Math.floor(seconds_float)
    var seconds_frac = seconds_float - seconds_int
    var frames = Math.round(seconds_frac * framerate) + ''
    var date = new Date(0);
    date.setSeconds(seconds_int);
    var timeString = date.toISOString()
        .substr(11, 8)
    if (frames.length == 1) frames = &quot;0&quot; + frames
    var timecodef = timeString + &quot;:&quot; + frames
    return timecodef
}

function frames2timecode(frames) { //frames to 00:01:02,000 format
    var milliseconds = Math.round(
        frames * frms)
    var srt_timecode = TimeConversion(
        milliseconds)
    return srt_timecode
}

function array2srt(events_object) {
    var ordered_events = []
    for (var id in events_object) {
        try {
            var type_fn = events_object[id][&quot;type&quot;]
            if (type_fn === &quot;fn&quot;) {
                events_object[id][&quot;txt&quot;] += &quot;&lt;b&gt;&lt;/b&gt;&quot;;
                type_fn = undefined;
                delete(type_fn)
            }
        }
        catch (e) {}
        ordered_events.push([
            events_object[id][
                &quot;start&quot;
            ]
            , events_object[id][
                &quot;end&quot;
            ], events_object[id]
            [&quot;txt&quot;]
            , events_object[id]
            [&quot;styles&quot;]
            , events_object[id]
            [&quot;rgn&quot;]
        ])
    }
    ordered_events.sort(function (a
        , b) {
        return a[0] - b[0];
    }); //Array sorted by in_cues, sequentially
    var index = 0
    var srt_txt = ''
    for (event of ordered_events) {
        index++
        var start = frames2timecode(
            event[0])
        var end = frames2timecode(event[
            1])
        var content = event[2]
        try {
            if (typeof event[3][0][&quot;type&quot;] !== &quot;undefined&quot;) {
                if (event[3][0][&quot;type&quot;] == &quot;italic&quot;) {
                    content = italicize(content, event[3])
                }
            }
        }
        catch (e) {}

        try {
            if (typeof event[4] !== &quot;undefined&quot;) {
                if (event[4] == &quot;top&quot;) {
                    content = &quot;{\\an8}&quot; + content
                }
            }
        }
        catch (e) {}

        try {
            if (event[&quot;type&quot;] == &quot;fn&quot;) {
                content += '&lt;b&gt;&lt;/b&gt;'
            }
        }
        catch (e) {}
        console.log(content)
        var current_event = index +
            &quot;\n&quot; + start + &quot; --&gt; &quot; +
            end +
            &quot;\n&quot; + content + &quot;\n&quot;
        srt_txt += current_event + &quot;\n&quot;
    }
    return srt_txt
}

function italicize(content, italics_array) {
    position_offset = 0
    for (var italic of italics_array) {
        var position_from = italic[&quot;from&quot;] + position_offset;
        position_offset += 3
        content = [content.slice(0, position_from), &quot;&lt;i&gt;&quot;, content
            .slice(position_from)
        ].join('')
        var position_to = italic[&quot;to&quot;] + position_offset;
        position_offset += 4
        content = [content.slice(0, position_to), &quot;&lt;/i&gt;&quot;, content
            .slice(position_to)
        ].join('')
    }
    return content
}

function download(filename, text) {
    var element = document
        .createElement('a');
    element.setAttribute('href'
        , 'data:text/plain;charset=utf-8,' +
        encodeURIComponent(text));
    element.setAttribute('download'
        , filename);
    element.style.display = 'none';
    document.body.appendChild(element);
    element.click();
    document.body.removeChild(element);
}

function TimeConversion(duration) {
    let time = parseDuration(duration)
    return formatTimeHMSS(time)
}

function parseDuration(duration) {
    let remain = duration
    let hours = Math.floor(remain / (
        1000 * 60 * 60))
    remain = remain % (1000 * 60 * 60)
    let minutes = Math.floor(remain / (
        1000 * 60))
    remain = remain % (1000 * 60)
    let seconds = Math.floor(remain / (
        1000))
    remain = remain % (1000)
    let milliseconds = remain
    return {
        hours
        , minutes
        , seconds
        , milliseconds
    }
}

function formatTimeHMSS(o) {
    let hours = o.hours.toString()
    if (hours.length === 1) hours =
        '0' + hours
    let minutes = o.minutes.toString()
    if (minutes.length === 1) minutes =
        '0' + minutes
    let seconds = o.seconds.toString()
    if (seconds.length === 1) seconds =
        '0' + seconds
    let milliseconds = o.milliseconds
        .toString()
    if (milliseconds.length === 1)
        milliseconds = '00' +
        milliseconds
    if (milliseconds.length === 2)
        milliseconds = '0' +
        milliseconds
    return hours + &quot;:&quot; + minutes + &quot;:&quot; +
        //Example: 00:01:02,999 -- note that the SRT spec calls for a comma, not a period!
        seconds + &quot;,&quot; +
        milliseconds
}

function leftFillNum(num, targetLength) {
    return num.toString()
        .padStart(targetLength, 0);
}

var SRT = parseSRT(array2srt(JSON.parse(localStorage[
    &quot;clq:origination:&quot; + our_clq])[&quot;events&quot;]));
var issues = []

for (event of SRT) {
    var start_frames = Math.round(event[&quot;start&quot;] * fps)
    var end_frames = Math.round(event[&quot;end&quot;] * fps)
    var start_tcf = frames2tcf(start_frames)
    var end_tcf = frames2tcf(end_frames)
    var id = event[&quot;id&quot;]
    var _id = leftFillNum(id, 4)
    var eventIssue = []
    var eventTxt = event[&quot;text&quot;]
    eventTxt = eventTxt.replace(/(&lt;([^&gt;]+)&gt;)/ig, &quot;&quot;);
    eventTxt = eventTxt.replace(/{.an.}/ig, &quot;&quot;);
    if (eventTxt.indexOf(&quot;\n&quot;) !== -1 &amp;&amp;
        eventTxt.indexOf(&quot;\n-&quot;) == -1 &amp;&amp;
        eventTxt.replace(&quot;\n&quot;, &quot; &quot;)
        .length &lt;= line_limit) {
        eventIssue.push(&quot;Can fit on one line&quot;);
    }

    if (eventTxt.indexOf(&quot;...&quot;) !== -1) {
        eventIssue.push(
            &quot;Legacy ellipsis detected: replace ... with …&quot;);
    }

    var hasSpace = /\s$|^\s/;
    var eventTxt_lines = eventTxt.split(&quot;\n&quot;);
    var nPos = eventTxt.lastIndexOf(&quot;\n&quot;);
    var hasSpaceIssue = nPos &amp;&amp; (typeof eventTxt[nPos + 1] ==
        &quot;undefined&quot;)
    var overLineLimit = false
    var hasDoubleSpace = eventTxt.replace(&quot;\n&quot;, &quot;&quot;)
        .split(/\s\s/)
        .length - 1
    var hasThreeLines = typeof eventTxt_lines[2] !== &quot;undefined&quot;

    for (var line of eventTxt_lines) {
        hasSpaceIssue = (hasSpace.test(line) || hasSpaceIssue)
        if (line.length &gt; line_limit) {
            overLineLimit = true
        }
    }

    if (hasDoubleSpace) {
        eventIssue.push(
            &quot;Double spaces detected, replace with single space&quot;);
    }

    if (hasThreeLines) {
        eventIssue.push(&quot;Three lines detected in this event&quot;);
    }

    if (hasSpaceIssue) {
        if (eventTxt.length &gt; 1) {
            eventIssue.push(
                &quot;One of the lines begins or ends with whitespace&quot;);
        }
        else {
            eventIssue.push(&quot;Empty event detected&quot;);
        }

    }

    if (overLineLimit) {
        eventIssue.push(&quot;Line over max limit of &quot; + line_limit);
    }

    var totalLength = eventTxt.length
    var eventLines = eventTxt.split(&quot;\n&quot;)
    if (typeof eventIssue !== &quot;undefined&quot; &amp;&amp; eventIssue.length &gt; 0) {
        log_event = (start_tcf + &quot;    &quot; + eventTxt_lines[0].slice(0,
                    line_limit)
                .padEnd(line_limit + 4, &quot; &quot;) + _id)
            .padEnd(line_limit + 10, &quot; &quot;)
        if (typeof eventTxt_lines[1] !== &quot;undefined&quot;) {
            log_event += &quot;\n&quot; + end_tcf + &quot;    &quot; + eventTxt_lines[1]
                .padEnd(line_limit + 8, &quot; &quot;)
        }
        else {
            log_event += &quot;\n&quot; + end_tcf + &quot;      &quot; + &quot; &quot;.padEnd(line_limit+6,
                &quot; &quot;)
        }
        console.log('%c' + log_event,
            'background: #12343b; color: #e1b382')
        //console.log((+_id+&quot;\n&quot;+start_tcf+&quot;\n&quot;+end_tcf+&quot;\n&quot;+eventTxt).padEnd(50), 'background: #222; color: #bada55');
        console.log(('%c' + eventIssue.join(&quot;\n&quot;))
            .padEnd(50),
            'background: #FFF; color: #FF0000; font-style: italic; border:solid 1px #000;'
            )
        console.log(&quot;┉&quot;.repeat(63))

        issue = {
            id: id
            , issues: eventIssue
            , content: eventTxt
            , start_tcf: start_tcf
            , end_tcf: end_tcf
            , start_frames: start_frames
            , end_frames: end_frames
        }
        issues.push(issue)

    }
}
</pre></code>
